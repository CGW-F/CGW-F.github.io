<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wgc5.gitee.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="1、MySql数据类型">
<meta property="og:type" content="article">
<meta property="og:title" content="MySql">
<meta property="og:url" content="https://wgc5.gitee.io/2021/01/07/MySql/index.html">
<meta property="og:site_name" content="北极星上的稻草人">
<meta property="og:description" content="1、MySql数据类型">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/b5f1dfce-e161-4f31-9b10-0612e58ea087-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/d6b35804-3e47-4ecb-b116-46cce5cff213-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/10febf30-f32b-40bf-9076-905f677cbe59-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/fbf41174-e944-4f7d-b1d7-fa710f26f271-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/fc3a9789-9301-48d4-a950-5bdcbb26cbfa-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/3cbdc97d-214e-4a95-a04b-b3e506e8f6e9-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/52cebd31-a187-4320-8fab-e5285dafc5f3-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/96ecbd8b-4cad-45c5-83b7-e5eb186e7ee4-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/30fd3bfe-beb8-48c1-8a1d-300f036a2350-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/a9df0881-21aa-41f3-a940-1e6625ee1c95-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/3e9e4c8c-1859-49e0-843f-369b32ef4513-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/f27ad8a1-d62a-49af-83fa-4975a5f9becb-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/6eb4d22b-4fbb-4f8c-bc0a-0d25153cbc20-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/f2cd9627-54a5-4216-a69a-83ee724e4a13-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/445cbff3-bbef-4873-aa4b-7f2590c7b069-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/641e9462-ccbf-4c71-bee2-6ada907f9b5f-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/b704637c-0709-4cfd-a02b-0613d356e99a-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/b589102f-cd91-4e49-b7c4-d0e9fcc2f175-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/d943e4a7-6003-4312-a084-a445d91c94d5-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/ebd73b1d-5df8-4bea-9106-6b13d4c2f4e7-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/3c1c4db1-0d63-44f4-bd0f-9ee7e6ce3f9b-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/dcbcce04-5fd0-4eae-9675-8fd59c1b32a8-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/df47eb6a-6462-4851-850f-2c12648882e9-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/7969898c-a01b-4523-bdc2-e32a19bfd302-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/57ced790-4bca-4a91-bfff-13d72ec45697-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/361532b1-6b31-4f4f-96ac-993ed0cf5224-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/023289f1-ba49-4815-a6a5-5c2ad9cf05f7-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/f4ac0241-94b4-4c4f-b89d-7d42c4a93321-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/3dd3f5e8-7192-4e43-b8bf-8d94da55fcd4-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/46f18905-e25a-4dc7-b387-afeb28ca46fe-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/44cbd974-2f13-474c-b5ab-0e2bbb4bc5c9-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/cb2783e6-7a8d-40d8-b57f-f18cb603c410-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/20d2b93a-71d0-4185-bd30-e228273f6942-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/3d2e5b1b-1ef4-4a52-bf12-2e2f09749e6f-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/5409d0ae-64bf-4542-a0d0-e553f742a1e1-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/4f67ea32-6750-4272-b121-97d4d25c0eed-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/3e5e16ee-f323-4760-bd35-ffaba913c5bd-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/7acbfe0f-cd31-4981-9b41-79509f14718b-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/f838d657-4907-47da-89d7-02e9d7f9407d-7965385.jpg">
<meta property="og:image" content="https://api2.mubu.com/v3/document_image/344f4fb9-3794-4e1c-88f3-d926066bec9f-7965385.jpg">
<meta property="article:published_time" content="2021-01-07T05:17:05.000Z">
<meta property="article:modified_time" content="2021-01-08T07:32:15.034Z">
<meta property="article:author" content="北极星上的稻草人">
<meta property="article:tag" content="MySql">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://api2.mubu.com/v3/document_image/b5f1dfce-e161-4f31-9b10-0612e58ea087-7965385.jpg">

<link rel="canonical" href="https://wgc5.gitee.io/2021/01/07/MySql/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>MySql | 北极星上的稻草人</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">北极星上的稻草人</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">稻草人的笔记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">16</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">4</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">18</span></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wgc5.gitee.io/2021/01/07/MySql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="北极星上的稻草人">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="北极星上的稻草人">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySql
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-01-07 13:17:05" itemprop="dateCreated datePublished" datetime="2021-01-07T13:17:05+08:00">2021-01-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-01-08 15:32:15" itemprop="dateModified" datetime="2021-01-08T15:32:15+08:00">2021-01-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MySql/" itemprop="url" rel="index"><span itemprop="name">MySql</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="1、MySql数据类型"><a href="#1、MySql数据类型" class="headerlink" title="1、MySql数据类型"></a>1、MySql数据类型</h2><a id="more"></a>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">int：整型（整数）</span><br><span class="line">float：单精度浮点型</span><br><span class="line">double：双精度浮点型</span><br><span class="line">decimal：定点型 --&gt;decimal（5,2）表示最多5位，其中两位必须是小数，不会出现精度丢失</span><br><span class="line">char：固定长度字符串</span><br><span class="line">varchar：可变长度字符串</span><br><span class="line">text：字符串类型</span><br><span class="line">blob：字节类型</span><br><span class="line">date：日期类型--&gt;yyyy-MM-dd  2020-11-11</span><br><span class="line">time：时间类型--&gt;HH:mm:ss(24小时)    hh:mm:ss(12小时)</span><br><span class="line">DATETIME：日期时间类型YYYY-MM-DD HH:MM:SS</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="2、数据库操作"><a href="#2、数据库操作" class="headerlink" title="2、数据库操作"></a>2、数据库操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#启动：net start mysql;</span><br><span class="line"></span><br><span class="line">#关闭：net stop mysql;</span><br><span class="line"></span><br><span class="line">#登录：mysql -uroot -p123 -hlocalhost;</span><br><span class="line">#-u：后面的root 是用户名，这里使用的是超级管理员root；-p：后面的123 是密码，这是在安装MySQL 时就已经指定的密码；-h：后面给出的localhost 是服务器主机名，它是可以省略的，例如：mysql -u root -p 123；-P：端口号</span><br><span class="line"></span><br><span class="line">#退出：quit或exit;</span><br><span class="line"></span><br><span class="line">#查看所有数据库：SHOW DATABASES;</span><br><span class="line"></span><br><span class="line">#切换数据库：USE test; #数据库名为test</span><br><span class="line"></span><br><span class="line">#创建数据库：CREATE DATABASE  test;</span><br><span class="line"></span><br><span class="line">#删除数据库：DROP DATABASE  test;</span><br><span class="line"></span><br><span class="line">#修改数据库编码：ALTER DATABASE test CHARACTER SET utf8;</span><br><span class="line">alter database test character set utf8;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="3、表操作"><a href="#3、表操作" class="headerlink" title="3、表操作"></a>3、表操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#查看表：SHOW TABLES;</span><br><span class="line"></span><br><span class="line">#查看表结构：DESC user;</span><br><span class="line"></span><br><span class="line">#创建表：CREATE TABLE 表名(列名 列类型,列名 列类型,......);</span><br><span class="line">create table user(id int ,name varchar(20),age int,sex varchar(4));</span><br><span class="line"></span><br><span class="line">#删除表：DROP TABLE 表名;</span><br><span class="line">drop table user;</span><br><span class="line"></span><br><span class="line">#修改表结构</span><br><span class="line"></span><br><span class="line">#添加列：ALTER TABLE stu ADD (classname varchar(100));</span><br><span class="line">mysql&gt; alter table user add level int(99);</span><br><span class="line"></span><br><span class="line">#修改列类型：ALTER TABLE stu MODIFY gender CHAR(2);</span><br><span class="line">alter table user modify id int;</span><br><span class="line">mysql&gt; alter table user modify id int auto_increment;</span><br><span class="line">mysql&gt; alter table user modify name varchar(20);</span><br><span class="line"></span><br><span class="line">#修改列名：ALTER TABLE stu change gender sex CHAR(2);</span><br><span class="line"></span><br><span class="line">#删除列：ALTER TABLE stu DROP classname;</span><br><span class="line">alter table user drop id int primary key;</span><br><span class="line">mysql&gt; alter table user drop sex;</span><br><span class="line"></span><br><span class="line">#修改表名称：ALTER TABLE stu RENAME TO student;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="4、数据库的增删改查"><a href="#4、数据库的增删改查" class="headerlink" title="4、数据库的增删改查"></a>4、数据库的增删改查</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#插入数据：INSERT INTO 表名(列名1,列名2,...） VALUES （值1,值2)</span><br><span class="line">insert into user  values(1,&quot;name&quot;,&quot;man&quot;,NULL,&quot;jeff&quot;);</span><br><span class="line">insert into user(name) values(&quot;name&quot;)；</span><br><span class="line"></span><br><span class="line">#修改数据：UPDATE 表名 SET  列名1&#x3D;值1, … 列名n&#x3D;值n [WHERE 条件]</span><br><span class="line"></span><br><span class="line">#删除数据：DELETE FROM 表名[WHERE 条件]</span><br><span class="line"></span><br><span class="line">#查找数据：SELECT 列名 FROM 表名</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="5、约束"><a href="#5、约束" class="headerlink" title="5、约束"></a>5、约束</h2><h3 id="5-1、主键约束：primary-key"><a href="#5-1、主键约束：primary-key" class="headerlink" title="5.1、主键约束：primary key"></a>5.1、主键约束：primary key</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#能够唯一确定一张表中的记录，该字段不重复且不为空</span><br><span class="line">create table user(</span><br><span class="line">id int primary key,</span><br><span class="line">name varchar(20),</span><br><span class="line">age int,</span><br><span class="line">sex varchar(4),</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="5-1-1、联合主键约束-primary-key-a-b"><a href="#5-1-1、联合主键约束-primary-key-a-b" class="headerlink" title="5.1.1、联合主键约束 primary key(a,b)"></a>5.1.1、联合主键约束 primary key(a,b)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table user(</span><br><span class="line">id int ,</span><br><span class="line">name varchar(20),</span><br><span class="line">age int,</span><br><span class="line">sex varchar(4),</span><br><span class="line">primary key(id,name)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="5-1-2、自增约束-auto-increment-配合主键约束使用"><a href="#5-1-2、自增约束-auto-increment-配合主键约束使用" class="headerlink" title="5.1.2、自增约束 auto_increment 配合主键约束使用"></a>5.1.2、自增约束 auto_increment 配合主键约束使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">create table user(id int primary key auto_increment,name varchar(20),age int,sex varchar(4));</span><br><span class="line">mysql&gt; insert into user(name) values(&quot;zhangsan&quot;);</span><br><span class="line">mysql&gt; insert into user(name) values(&quot;zhangsan&quot;);</span><br><span class="line">mysql&gt; select * from user;</span><br><span class="line">+----+----------+------+------+</span><br><span class="line">| id | name     | age  | sex  |</span><br><span class="line">+----+----------+------+------+</span><br><span class="line">|  1 | zhangsan | NULL | NULL |</span><br><span class="line">|  2 | zhangsan | NULL | NULL |</span><br><span class="line">+----+----------+------+------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="主键约束的增删改"><a href="#主键约束的增删改" class="headerlink" title="主键约束的增删改"></a>主键约束的增删改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">增：mysql&gt; alter table user add primary key(id);</span><br><span class="line">	mysql&gt; alter table user add primary key(id,name);</span><br><span class="line">删：mysql&gt; alter table user drop primary key; #删除所有主键</span><br><span class="line">改：mysql&gt; alter table user modify id int primary key;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="5-2、唯一约束：unique"><a href="#5-2、唯一约束：unique" class="headerlink" title="5.2、唯一约束：unique"></a>5.2、唯一约束：unique</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#如果另唯一约束字段不为空则字段变为主键</span><br><span class="line">#约束修饰的字段的值不可以重复，可以为空</span><br><span class="line">create table user(</span><br><span class="line">id int primary key,</span><br><span class="line">name varchar(20) unique,</span><br><span class="line">age int,</span><br><span class="line">sex varchar(4),</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="唯一约束增删改"><a href="#唯一约束增删改" class="headerlink" title="唯一约束增删改"></a>唯一约束增删改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">增：mysql&gt; alter table user add unique(id);</span><br><span class="line">mysql&gt; alter table user add unique(id,name);</span><br><span class="line">删：mysql&gt; alter table user drop index name;</span><br><span class="line">改：mysql&gt; alter table user modify name varchar(20) unique;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="5-3、非空约束：not-null"><a href="#5-3、非空约束：not-null" class="headerlink" title="5.3、非空约束：not null"></a>5.3、非空约束：not null</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#修饰的字段不能为空</span><br><span class="line">create table user(</span><br><span class="line">id int primary key,</span><br><span class="line">name varchar(20) unique not null,&#x2F;&#x2F;类似primary key</span><br><span class="line">age int,</span><br><span class="line">sex varchar(4) ,</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="非空约束增删改"><a href="#非空约束增删改" class="headerlink" title="非空约束增删改"></a>非空约束增删改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">增：mysql&gt; alter table user add money int not null;</span><br><span class="line">删：null</span><br><span class="line">改：mysql&gt; alter table user modify money varchar(20) not null;</span><br><span class="line">mysql&gt; alter table user modify money varchar(20) null;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="5-4、默认约束：default"><a href="#5-4、默认约束：default" class="headerlink" title="5.4、默认约束：default"></a>5.4、默认约束：default</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#修饰的字段有默认值</span><br><span class="line">create table user(</span><br><span class="line">id int primary key,</span><br><span class="line">name varchar(20) unique not null,&#x2F;&#x2F;类似primary key</span><br><span class="line">age int default&#x3D;10,</span><br><span class="line">sex varchar(4) ,</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="默认约束增删改"><a href="#默认约束增删改" class="headerlink" title="默认约束增删改"></a>默认约束增删改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">增：mysql&gt; alter table user add money int default 2000;</span><br><span class="line">删：null</span><br><span class="line">改：mysql&gt; alter table user modify money int default 2200;</span><br><span class="line">mysql&gt; alter table user modify money int default NULL;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="5-5、外键约束：foreign-key……references……"><a href="#5-5、外键约束：foreign-key……references……" class="headerlink" title="5.5、外键约束：foreign key……references……"></a>5.5、外键约束：foreign key……references……</h3><p>涉及两个表：父表和子表，主表和副表 主表字段中没有的数据，在附表中不可以使用 主表中的记录被附表引用，是不可以被删除的</p>
<h4 id="class表：主表"><a href="#class表：主表" class="headerlink" title="class表：主表"></a>class表：主表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">create table class(</span><br><span class="line">id int primary key,</span><br><span class="line">name varchar(20)</span><br><span class="line">);</span><br><span class="line">insert into class values(1,&quot;一班&quot;);</span><br><span class="line">insert into class values(2,&quot;二班&quot;);</span><br><span class="line">insert into class values(3,&quot;三班&quot;);</span><br><span class="line">insert into class values(4,&quot;四班&quot;);</span><br><span class="line">mysql&gt; select *from class;</span><br><span class="line">+----+------+</span><br><span class="line">| id | name |</span><br><span class="line">+----+------+</span><br><span class="line">|  1 | 一班 |</span><br><span class="line">|  2 | 二班 |</span><br><span class="line">|  3 | 三班 |</span><br><span class="line">|  4 | 四班 |</span><br><span class="line">+----+------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="student表：副表"><a href="#student表：副表" class="headerlink" title="student表：副表"></a>student表：副表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">create table student(</span><br><span class="line">	id int primary key,</span><br><span class="line">	name varchar(20),</span><br><span class="line">    class_id int,</span><br><span class="line">    foreign key(class_id) references class(id) </span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">mysql&gt; desc student;</span><br><span class="line">+----------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field    | Type        | Null | Key | Default | Extra |</span><br><span class="line">+----------+-------------+------+-----+---------+-------+</span><br><span class="line">| id       | int         | NO   | PRI | NULL    |       |</span><br><span class="line">| name     | varchar(20) | YES  |     | NULL    |       |</span><br><span class="line">| class_id | int         | YES  | MUL | NULL    |       |</span><br><span class="line">+----------+-------------+------+-----+---------+-------+</span><br><span class="line">insert into student values(1001,&quot;一尾&quot;,1);</span><br><span class="line">insert into student values(1002,&quot;二尾&quot;,2);</span><br><span class="line">insert into student values(1003,&quot;三尾&quot;,3);</span><br><span class="line">insert into student values(1004,&quot;四尾&quot;,4);</span><br><span class="line">mysql&gt; select * from student;</span><br><span class="line">+------+------+----------+</span><br><span class="line">| id   | name | class_id |</span><br><span class="line">+------+------+----------+</span><br><span class="line">| 1001 | 一尾 |        1 |</span><br><span class="line">| 1002 | 二尾 |        2 |</span><br><span class="line">| 1003 | 三尾 |        3 |</span><br><span class="line">| 1004 | 四尾 |        4 |</span><br><span class="line">+------+------+----------+</span><br><span class="line">mysql&gt; insert into student values(1005,&quot;五尾&quot;,5); #class_id外键限制只能从1234中选择</span><br><span class="line">ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (&#96;test&#96;.&#96;student&#96;, CONSTRAINT &#96;student_ibfk_1&#96; FOREIGN KEY (&#96;class_id&#96;) REFERENCES &#96;class&#96; (&#96;id&#96;))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6、范式"><a href="#6、范式" class="headerlink" title="6、范式"></a>6、范式</h2><p>设计越详细，对某些实际操作可能更好，但不是所有</p>
<h3 id="第一范式：1NF"><a href="#第一范式：1NF" class="headerlink" title="第一范式：1NF"></a>第一范式：1NF</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#数据表中的所有字段都是不可分割的原子值</span><br><span class="line">#工人信息表</span><br><span class="line">create table worker(</span><br><span class="line">id int primary key, </span><br><span class="line">name varchar(20), </span><br><span class="line">country varchar(20), &#x2F;&#x2F;国家</span><br><span class="line">province varchar(20), &#x2F;&#x2F;省</span><br><span class="line">city varchar(20),&#x2F;&#x2F;市</span><br><span class="line">details varchar(40) &#x2F;&#x2F;假设详细地址details不可再分</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="第二范式：2NF"><a href="#第二范式：2NF" class="headerlink" title="第二范式：2NF"></a>第二范式：2NF</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#满足第一范式的前提下，第二范式要求主键外的每一列都必须完全依赖于主键</span><br><span class="line">#如果出现不完全依赖于主键的情况，只可能发生在联合主键的情况下</span><br><span class="line">create table myorder(</span><br><span class="line">product_id int,</span><br><span class="line">customer_id int,</span><br><span class="line">product_name varchar(20),</span><br><span class="line">customer_name varchar(20),</span><br><span class="line">primary key(product_id,customer_id)</span><br><span class="line">#两个主键的情况下，发生不完全依赖主键的情况，不满足第二范式，这时需要拆表</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#订单表</span><br><span class="line">create table myorder(</span><br><span class="line">order_id int primary key,</span><br><span class="line">product_id int,</span><br><span class="line">customer_id int</span><br><span class="line">);</span><br><span class="line">#产品表</span><br><span class="line">create table product(</span><br><span class="line">id int primary key,</span><br><span class="line">name varchar(20)</span><br><span class="line">);</span><br><span class="line">#消费者表</span><br><span class="line">create table customer(</span><br><span class="line">id int primary key,</span><br><span class="line">name varchar(20)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="第三范式：3NF"><a href="#第三范式：3NF" class="headerlink" title="第三范式：3NF"></a>第三范式：3NF</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#满足第二范式的前提下，除主键的其他列之间不能有传递依赖,即不能和其他键有关系</span><br><span class="line">create table myorder(</span><br><span class="line">order_id int primary key,</span><br><span class="line">product_id int,</span><br><span class="line">customer_id int,</span><br><span class="line">customer_phone varchar(20)</span><br><span class="line">#customer_phone 不仅依赖于order_id还依赖于customer_id,这是就发生了传递依赖</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#订单表</span><br><span class="line">create table myorder(</span><br><span class="line">order_id int primary key,</span><br><span class="line">product_id int,</span><br><span class="line">customer_id int</span><br><span class="line">);</span><br><span class="line">#消费者表</span><br><span class="line">create table customer(</span><br><span class="line">id int primary key,</span><br><span class="line">name varchar(20),</span><br><span class="line">phone varchar(20)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="7、查询练习"><a href="#7、查询练习" class="headerlink" title="7、查询练习"></a>7、查询练习</h2><h3 id="1、建表"><a href="#1、建表" class="headerlink" title="1、建表"></a>1、建表</h3><h4 id="学生表"><a href="#学生表" class="headerlink" title="学生表"></a>学生表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table student(</span><br><span class="line">sno varchar(20) primary key, #学生学号</span><br><span class="line">sname varchar(20) not null, #学生姓名</span><br><span class="line">ssex varchar(10) not null, #学生性别</span><br><span class="line">sbirth date, #学生生日</span><br><span class="line">class varchar(20) #班级</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="教师表"><a href="#教师表" class="headerlink" title="教师表"></a>教师表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table teacher(</span><br><span class="line">tno varchar(20) primary key, #教师编号</span><br><span class="line">tname varchar(20) not null, #教师姓名</span><br><span class="line">tsex varchar(10) not null, #教师性别</span><br><span class="line">tbirth date, #教师生日</span><br><span class="line">professional varchar(20) not null, #职称</span><br><span class="line">department varchar(20) not null #部门</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="课程表"><a href="#课程表" class="headerlink" title="课程表"></a>课程表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table course(</span><br><span class="line">cno varchar(20) primary key, #课程编号</span><br><span class="line">cname varchar(20) not null, #课程名称</span><br><span class="line">tno varchar(20) not null, #教师编号</span><br><span class="line">foreign key(tno) references teacher(tno) #tno引用teacher表</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="成绩表"><a href="#成绩表" class="headerlink" title="成绩表"></a>成绩表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table score(</span><br><span class="line">sno varchar(20), #学生编号</span><br><span class="line">cno varchar(20), #教师编号</span><br><span class="line">degree decimal, #成绩</span><br><span class="line">foreign key(sno) references student(sno), #sno引用student表</span><br><span class="line">foreign key(cno) references course(cno) #con引用course表</span><br><span class="line">primary key(sno,cno) #联合主键 #不然会造成一个学生两个一样的课程两个成绩</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h4 id="成绩分段表"><a href="#成绩分段表" class="headerlink" title="成绩分段表"></a>成绩分段表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#分段成绩</span><br><span class="line">create table grade(</span><br><span class="line">upp int,</span><br><span class="line">low int,</span><br><span class="line">grade char(1)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="2、插入数据"><a href="#2、插入数据" class="headerlink" title="2、插入数据"></a>2、插入数据</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">#学生信息</span><br><span class="line">insert into student values(&quot;1001&quot;,&quot;张三&quot;,&quot;男&quot;,&quot;1999-08-19&quot;,&quot;170807&quot;);</span><br><span class="line">insert into student values(&quot;1002&quot;,&quot;李博&quot;,&quot;男&quot;,&quot;1999-02-09&quot;,&quot;170808&quot;);</span><br><span class="line">insert into student values(&quot;1003&quot;,&quot;王小华&quot;,&quot;女&quot;,&quot;1998-03-12&quot;,&quot;170808&quot;);</span><br><span class="line">insert into student values(&quot;1004&quot;,&quot;郑楠&quot;,&quot;男&quot;,&quot;1999-11-16&quot;,&quot;170807&quot;);</span><br><span class="line">insert into student values(&quot;1005&quot;,&quot;吴昕&quot;,&quot;女&quot;,&quot;1999-09-09&quot;,&quot;170807&quot;);</span><br><span class="line">insert into student values(&quot;1006&quot;,&quot;赵四&quot;,&quot;男&quot;,&quot;1999-01-05&quot;,&quot;170808&quot;);</span><br><span class="line">insert into student values(&quot;1007&quot;,&quot;李丽&quot;,&quot;女&quot;,&quot;1999-12-01&quot;,&quot;170808&quot;);</span><br><span class="line">insert into student values(&quot;1008&quot;,&quot;李四光&quot;,&quot;男&quot;,&quot;1999-08-11&quot;,&quot;170807&quot;);</span><br><span class="line">insert into student values(&quot;1009&quot;,&quot;雷达&quot;,&quot;男&quot;,&quot;1999-05-02&quot;,&quot;170807&quot;);</span><br><span class="line">insert into student values(&quot;1010&quot;,&quot;苏伟文&quot;,&quot;男&quot;,&quot;1999-06-17&quot;,&quot;170808&quot;);</span><br><span class="line">insert into student values(&quot;1011&quot;,&quot;严格&quot;,&quot;男&quot;,&quot;1999-10-01&quot;,&quot;170808&quot;);</span><br><span class="line"></span><br><span class="line">#教师信息</span><br><span class="line">insert into teacher values(&quot;Z043&quot;,&quot;傅亨&quot;,&quot;男&quot;,&quot;1975-01-01&quot;,&quot;教授&quot;,&quot;计算机学院&quot;);</span><br><span class="line">insert into teacher values(&quot;Z078&quot;,&quot;王建国&quot;,&quot;男&quot;,&quot;1978-02-11&quot;,&quot;讲师&quot;,&quot;计算机学院&quot;);</span><br><span class="line">insert into teacher values(&quot;Z050&quot;,&quot;余华&quot;,&quot;女&quot;,&quot;1974-05-18&quot;,&quot;教授&quot;,&quot;文学院&quot;);</span><br><span class="line">insert into teacher values(&quot;Z088&quot;,&quot;李喜泉&quot;,&quot;男&quot;,&quot;1971-11-11&quot;,&quot;讲师&quot;,&quot;信息学院&quot;);</span><br><span class="line"></span><br><span class="line">#课程表</span><br><span class="line">insert into course values(&quot;c001&quot;,&quot;高等数学&quot;,&quot;z078&quot;);</span><br><span class="line">insert into course values(&quot;c002&quot;,&quot;形势与政策&quot;,&quot;z050&quot;);</span><br><span class="line">insert into course values(&quot;c003&quot;,&quot;计算机概论&quot;,&quot;z043&quot;);</span><br><span class="line">insert into course values(&quot;c004&quot;,&quot;数字电路&quot;,&quot;z088&quot;);</span><br><span class="line"></span><br><span class="line">#成绩表</span><br><span class="line">insert into score values(&quot;1001&quot;,&quot;c001&quot;,&quot;86&quot;);</span><br><span class="line">insert into score values(&quot;1002&quot;,&quot;c001&quot;,&quot;90&quot;);</span><br><span class="line">insert into score values(&quot;1003&quot;,&quot;c001&quot;,&quot;77&quot;);</span><br><span class="line">insert into score values(&quot;1004&quot;,&quot;c001&quot;,&quot;65&quot;);</span><br><span class="line">insert into score values(&quot;1005&quot;,&quot;c001&quot;,&quot;45&quot;);</span><br><span class="line">insert into score values(&quot;1006&quot;,&quot;c001&quot;,&quot;67&quot;);</span><br><span class="line">insert into score values(&quot;1007&quot;,&quot;c001&quot;,&quot;78&quot;);</span><br><span class="line">insert into score values(&quot;1008&quot;,&quot;c001&quot;,&quot;90&quot;);</span><br><span class="line">insert into score values(&quot;1009&quot;,&quot;c001&quot;,&quot;55&quot;);</span><br><span class="line">insert into score values(&quot;1010&quot;,&quot;c001&quot;,&quot;60&quot;);</span><br><span class="line">insert into score values(&quot;1011&quot;,&quot;c001&quot;,&quot;69&quot;);</span><br><span class="line">insert into score values(&quot;1001&quot;,&quot;c002&quot;,&quot;87&quot;);</span><br><span class="line">insert into score values(&quot;1001&quot;,&quot;c004&quot;,&quot;66&quot;);</span><br><span class="line">insert into score values(&quot;1003&quot;,&quot;c002&quot;,&quot;91&quot;);</span><br><span class="line">insert into score values(&quot;1003&quot;,&quot;c003&quot;,&quot;80&quot;);</span><br><span class="line">insert into score values(&quot;1004&quot;,&quot;c004&quot;,&quot;70&quot;);</span><br><span class="line">insert into score values(&quot;1005&quot;,&quot;c003&quot;,&quot;65&quot;);</span><br><span class="line">insert into score values(&quot;1006&quot;,&quot;c002&quot;,&quot;46&quot;);</span><br><span class="line">insert into score values(&quot;1007&quot;,&quot;c003&quot;,&quot;60&quot;);</span><br><span class="line">insert into score values(&quot;1008&quot;,&quot;c003&quot;,&quot;60&quot;);</span><br><span class="line">insert into score values(&quot;1009&quot;,&quot;c004&quot;,&quot;89&quot;);</span><br><span class="line">insert into score values(&quot;1011&quot;,&quot;c003&quot;,&quot;79&quot;);</span><br><span class="line">insert into score values(&quot;1011&quot;,&quot;c004&quot;,&quot;69&quot;);</span><br><span class="line">insert into score values(&quot;1010&quot;,&quot;c003&quot;,&quot;94&quot;);</span><br><span class="line">insert into score values(&quot;1010&quot;,&quot;c004&quot;,&quot;82&quot;);</span><br><span class="line">insert into score values(&quot;1006&quot;,&quot;c003&quot;,&quot;61&quot;);</span><br><span class="line">insert into score values(&quot;1007&quot;,&quot;c004&quot;,&quot;62&quot;);</span><br><span class="line">insert into score values(&quot;1005&quot;,&quot;c004&quot;,&quot;68&quot;);</span><br><span class="line"></span><br><span class="line">#成绩分段</span><br><span class="line">insert into grade values(90,100,&#39;A&#39;);</span><br><span class="line">insert into grade values(80,89,&#39;B&#39;);</span><br><span class="line">insert into grade values(70,79,&#39;C&#39;);</span><br><span class="line">insert into grade values(60,69,&#39;D&#39;);</span><br><span class="line">insert into grade values(0,59,&#39;E&#39;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3、查看表内容"><a href="#3、查看表内容" class="headerlink" title="3、查看表内容"></a>3、查看表内容</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from student;</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1001 | 张三   | 男   | 1999-08-19 | 170807 |</span><br><span class="line">| 1002 | 李博   | 男   | 1999-02-09 | 170808 |</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1004 | 郑楠   | 男   | 1999-11-16 | 170807 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1006 | 赵四   | 男   | 1999-01-05 | 170808 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">| 1008 | 李四光 | 男   | 1999-08-11 | 170807 |</span><br><span class="line">| 1009 | 雷达   | 男   | 1999-05-02 | 170807 |</span><br><span class="line">| 1010 | 苏伟文 | 男   | 1999-06-17 | 170808 |</span><br><span class="line">| 1011 | 严格   | 男   | 1999-10-01 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select *from teacher;</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| tno  | tname  | tsex | tbirth     | professional | department |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| Z043 | 傅亨   | 男   | 1975-01-01 | 教授         | 计算机学院 |</span><br><span class="line">| Z050 | 余华   | 女   | 1974-05-18 | 教授         | 文学院     |</span><br><span class="line">| Z078 | 王建国 | 男   | 1978-02-11 | 讲师         | 计算机学院 |</span><br><span class="line">| Z088 | 李喜泉 | 男   | 1971-11-11 | 讲师         | 信息学院   |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select *from course;</span><br><span class="line">+------+------------+------+</span><br><span class="line">| cno  | cname      | tno  |</span><br><span class="line">+------+------------+------+</span><br><span class="line">| c001 | 高等数学   | z078 |</span><br><span class="line">| c002 | 形势与政策 | z050 |</span><br><span class="line">| c003 | 计算机概论 | z043 |</span><br><span class="line">| c004 | 数字电路   | z088 |</span><br><span class="line">+------+------------+------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from score;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c001 |     86 |</span><br><span class="line">| 1001 | c002 |     87 |</span><br><span class="line">| 1001 | c004 |     66 |</span><br><span class="line">| 1002 | c001 |     90 |</span><br><span class="line">| 1003 | c001 |     77 |</span><br><span class="line">| 1003 | c002 |     91 |</span><br><span class="line">| 1003 | c003 |     80 |</span><br><span class="line">| 1004 | c001 |     65 |</span><br><span class="line">| 1004 | c004 |     70 |</span><br><span class="line">| 1005 | c001 |     45 |</span><br><span class="line">| 1005 | c003 |     65 |</span><br><span class="line">| 1005 | c004 |     68 |</span><br><span class="line">| 1006 | c001 |     67 |</span><br><span class="line">| 1006 | c002 |     46 |</span><br><span class="line">| 1006 | c003 |     61 |</span><br><span class="line">| 1007 | c001 |     78 |</span><br><span class="line">| 1007 | c003 |     60 |</span><br><span class="line">| 1007 | c004 |     62 |</span><br><span class="line">| 1008 | c001 |     90 |</span><br><span class="line">| 1008 | c003 |     60 |</span><br><span class="line">| 1009 | c001 |     55 |</span><br><span class="line">| 1009 | c004 |     89 |</span><br><span class="line">| 1010 | c001 |     60 |</span><br><span class="line">| 1010 | c003 |     94 |</span><br><span class="line">| 1010 | c004 |     82 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">| 1011 | c003 |     79 |</span><br><span class="line">| 1011 | c004 |     69 |</span><br><span class="line">+------+------+--------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="4、查询练习"><a href="#4、查询练习" class="headerlink" title="4、查询练习"></a>4、查询练习</h3><h5 id="1、查询student表中的所有记录"><a href="#1、查询student表中的所有记录" class="headerlink" title="1、查询student表中的所有记录"></a>1、查询student表中的所有记录</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from student;</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1001 | 张三   | 男   | 1999-08-19 | 170807 |</span><br><span class="line">| 1002 | 李博   | 男   | 1999-02-09 | 170808 |</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1004 | 郑楠   | 男   | 1999-11-16 | 170807 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1006 | 赵四   | 男   | 1999-01-05 | 170808 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">| 1008 | 李四光 | 男   | 1999-08-11 | 170807 |</span><br><span class="line">| 1009 | 雷达   | 男   | 1999-05-02 | 170807 |</span><br><span class="line">| 1010 | 苏伟文 | 男   | 1999-06-17 | 170808 |</span><br><span class="line">| 1011 | 严格   | 男   | 1999-10-01 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br></pre></td></tr></table></figure>


<h5 id="2、查询student表中的所有记录的sname、ssex、和class列"><a href="#2、查询student表中的所有记录的sname、ssex、和class列" class="headerlink" title="2、查询student表中的所有记录的sname、ssex、和class列"></a>2、查询student表中的所有记录的sname、ssex、和class列</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sname,ssex,class from student;</span><br><span class="line">+--------+------+--------+</span><br><span class="line">| sname  | ssex | class  |</span><br><span class="line">+--------+------+--------+</span><br><span class="line">| 张三   | 男   | 170807 |</span><br><span class="line">| 李博   | 男   | 170808 |</span><br><span class="line">| 王小华 | 女   | 170808 |</span><br><span class="line">| 郑楠   | 男   | 170807 |</span><br><span class="line">| 吴昕   | 女   | 170807 |</span><br><span class="line">| 赵四   | 男   | 170808 |</span><br><span class="line">| 李丽   | 女   | 170808 |</span><br><span class="line">| 李四光 | 男   | 170807 |</span><br><span class="line">| 雷达   | 男   | 170807 |</span><br><span class="line">| 苏伟文 | 男   | 170808 |</span><br><span class="line">| 严格   | 男   | 170808 |</span><br><span class="line">+--------+------+--------+</span><br></pre></td></tr></table></figure>


<h5 id="3、查询教师所有的单位，即不重复的depart列-distinct排除重复"><a href="#3、查询教师所有的单位，即不重复的depart列-distinct排除重复" class="headerlink" title="3、查询教师所有的单位，即不重复的depart列 distinct排除重复"></a>3、查询教师所有的单位，即不重复的depart列 distinct排除重复</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select department from teacher;</span><br><span class="line">+------------+</span><br><span class="line">| department |</span><br><span class="line">+------------+</span><br><span class="line">| 计算机学院 |</span><br><span class="line">| 文学院     |</span><br><span class="line">| 计算机学院 |</span><br><span class="line">| 信息学院   |</span><br><span class="line">+------------+</span><br><span class="line">mysql&gt; select distinct department from teacher;</span><br><span class="line">+------------+</span><br><span class="line">| department |</span><br><span class="line">+------------+</span><br><span class="line">| 计算机学院 |</span><br><span class="line">| 文学院     |</span><br><span class="line">| 信息学院   |</span><br><span class="line">+------------+</span><br></pre></td></tr></table></figure>
<h5 id="4、查询score表中成绩在60-80之间的所有记录-between…and…-gt-lt"><a href="#4、查询score表中成绩在60-80之间的所有记录-between…and…-gt-lt" class="headerlink" title="4、查询score表中成绩在60-80之间的所有记录 between…and…  &gt;= &lt;="></a>4、查询score表中成绩在60-80之间的所有记录 between…and…  &gt;= &lt;=</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">#between...and... &#x2F;&#x2F;  &gt;&#x3D;60 &amp;&lt;&#x3D;80</span><br><span class="line">mysql&gt; select * from score where degree between 60 and 80;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c004 |     66 |</span><br><span class="line">| 1003 | c001 |     77 |</span><br><span class="line">| 1003 | c003 |     80 |</span><br><span class="line">| 1004 | c001 |     65 |</span><br><span class="line">| 1004 | c004 |     70 |</span><br><span class="line">| 1005 | c003 |     65 |</span><br><span class="line">| 1005 | c004 |     68 |</span><br><span class="line">| 1006 | c001 |     67 |</span><br><span class="line">| 1006 | c003 |     61 |</span><br><span class="line">| 1007 | c001 |     78 |</span><br><span class="line">| 1007 | c003 |     60 |</span><br><span class="line">| 1007 | c004 |     62 |</span><br><span class="line">| 1008 | c003 |     60 |</span><br><span class="line">| 1010 | c001 |     60 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">| 1011 | c003 |     79 |</span><br><span class="line">| 1011 | c004 |     69 |</span><br><span class="line">+------+------+--------+</span><br><span class="line">mysql&gt; select *from score where degree&gt;&#x3D;60 and degree&lt;&#x3D;80;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c004 |     66 |</span><br><span class="line">| 1003 | c001 |     77 |</span><br><span class="line">| 1003 | c003 |     80 |</span><br><span class="line">| 1004 | c001 |     65 |</span><br><span class="line">| 1004 | c004 |     70 |</span><br><span class="line">| 1005 | c003 |     65 |</span><br><span class="line">| 1005 | c004 |     68 |</span><br><span class="line">| 1006 | c001 |     67 |</span><br><span class="line">| 1006 | c003 |     61 |</span><br><span class="line">| 1007 | c001 |     78 |</span><br><span class="line">| 1007 | c003 |     60 |</span><br><span class="line">| 1007 | c004 |     62 |</span><br><span class="line">| 1008 | c003 |     60 |</span><br><span class="line">| 1010 | c001 |     60 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">| 1011 | c003 |     79 |</span><br><span class="line">| 1011 | c004 |     69 |</span><br><span class="line">+------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="5、查询score表中成绩为85、86、88的记录-in-85-86-88-or"><a href="#5、查询score表中成绩为85、86、88的记录-in-85-86-88-or" class="headerlink" title="5、查询score表中成绩为85、86、88的记录 in(85,86,88) or"></a>5、查询score表中成绩为85、86、88的记录 in(85,86,88) or</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from score where degree&#x3D;85 or degree&#x3D;86 or degree&#x3D;88;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c001 |     86 |</span><br><span class="line">+------+------+--------+</span><br><span class="line">mysql&gt; select *from score where degree in(85,86,88);</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c001 |     86 |</span><br><span class="line">+------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="6、查询student表中“170807”班性别“女”的同学记录-or"><a href="#6、查询student表中“170807”班性别“女”的同学记录-or" class="headerlink" title="6、查询student表中“170807”班性别“女”的同学记录 or"></a>6、查询student表中“170807”班性别“女”的同学记录 or</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student where class&#x3D;&quot;170807&quot; or ssex&#x3D;&quot;女&quot;;</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1001 | 张三   | 男   | 1999-08-19 | 170807 |</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1004 | 郑楠   | 男   | 1999-11-16 | 170807 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">| 1008 | 李四光 | 男   | 1999-08-11 | 170807 |</span><br><span class="line">| 1009 | 雷达   | 男   | 1999-05-02 | 170807 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="7、以class降序查询student表中的所有记录-order-by…-desc降序-asc升序（默认可不写）"><a href="#7、以class降序查询student表中的所有记录-order-by…-desc降序-asc升序（默认可不写）" class="headerlink" title="7、以class降序查询student表中的所有记录 order by…  desc降序 asc升序（默认可不写）"></a>7、以class降序查询student表中的所有记录 order by…  desc降序 asc升序（默认可不写）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student order by class desc;</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1002 | 李博   | 男   | 1999-02-09 | 170808 |</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1006 | 赵四   | 男   | 1999-01-05 | 170808 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">| 1010 | 苏伟文 | 男   | 1999-06-17 | 170808 |</span><br><span class="line">| 1011 | 严格   | 男   | 1999-10-01 | 170808 |</span><br><span class="line">| 1001 | 张三   | 男   | 1999-08-19 | 170807 |</span><br><span class="line">| 1004 | 郑楠   | 男   | 1999-11-16 | 170807 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1008 | 李四光 | 男   | 1999-08-11 | 170807 |</span><br><span class="line">| 1009 | 雷达   | 男   | 1999-05-02 | 170807 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">mysql&gt; select * from student order by class asc;</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1001 | 张三   | 男   | 1999-08-19 | 170807 |</span><br><span class="line">| 1004 | 郑楠   | 男   | 1999-11-16 | 170807 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1008 | 李四光 | 男   | 1999-08-11 | 170807 |</span><br><span class="line">| 1009 | 雷达   | 男   | 1999-05-02 | 170807 |</span><br><span class="line">| 1002 | 李博   | 男   | 1999-02-09 | 170808 |</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1006 | 赵四   | 男   | 1999-01-05 | 170808 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">| 1010 | 苏伟文 | 男   | 1999-06-17 | 170808 |</span><br><span class="line">| 1011 | 严格   | 男   | 1999-10-01 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="8、以cno升序、degree降序查询score表中的所有记录-desc降序-asc升序（默认可不写）"><a href="#8、以cno升序、degree降序查询score表中的所有记录-desc降序-asc升序（默认可不写）" class="headerlink" title="8、以cno升序、degree降序查询score表中的所有记录 desc降序 asc升序（默认可不写）"></a>8、以cno升序、degree降序查询score表中的所有记录 desc降序 asc升序（默认可不写）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from score order by cno asc,degree desc;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1002 | c001 |     90 |</span><br><span class="line">| 1008 | c001 |     90 |</span><br><span class="line">| 1001 | c001 |     86 |</span><br><span class="line">| 1007 | c001 |     78 |</span><br><span class="line">| 1003 | c001 |     77 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">| 1006 | c001 |     67 |</span><br><span class="line">| 1004 | c001 |     65 |</span><br><span class="line">| 1010 | c001 |     60 |</span><br><span class="line">| 1009 | c001 |     55 |</span><br><span class="line">| 1005 | c001 |     45 |</span><br><span class="line">| 1003 | c002 |     91 |</span><br><span class="line">| 1001 | c002 |     87 |</span><br><span class="line">| 1006 | c002 |     46 |</span><br><span class="line">| 1010 | c003 |     94 |</span><br><span class="line">| 1003 | c003 |     80 |</span><br><span class="line">| 1011 | c003 |     79 |</span><br><span class="line">| 1005 | c003 |     65 |</span><br><span class="line">| 1006 | c003 |     61 |</span><br><span class="line">| 1007 | c003 |     60 |</span><br><span class="line">| 1008 | c003 |     60 |</span><br><span class="line">| 1009 | c004 |     89 |</span><br><span class="line">| 1010 | c004 |     82 |</span><br><span class="line">| 1004 | c004 |     70 |</span><br><span class="line">| 1011 | c004 |     69 |</span><br><span class="line">| 1005 | c004 |     68 |</span><br><span class="line">| 1001 | c004 |     66 |</span><br><span class="line">| 1007 | c004 |     62 |</span><br><span class="line">+------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="9、查询“170807”班的学生人数-count-…-…代表列"><a href="#9、查询“170807”班的学生人数-count-…-…代表列" class="headerlink" title="9、查询“170807”班的学生人数 count(…) …代表列"></a>9、查询“170807”班的学生人数 count(…) …代表列</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select count(class) from student where class &#x3D; &quot;170807&quot; ;</span><br><span class="line">+--------------+</span><br><span class="line">| count(class) |</span><br><span class="line">+--------------+</span><br><span class="line">|            5 |</span><br><span class="line">+--------------+</span><br><span class="line">mysql&gt; select count(class) as num from student where class &#x3D; &quot;170807&quot; ;</span><br><span class="line">+-----+</span><br><span class="line">| num |</span><br><span class="line">+-----+</span><br><span class="line">|   5 |</span><br><span class="line">+-----+</span><br><span class="line">​</span><br><span class="line">mysql&gt; select count(distinct class) from student; &#x2F;&#x2F;查询班级个数</span><br><span class="line">+-----------------------+</span><br><span class="line">| count(distinct class) |</span><br><span class="line">+-----------------------+</span><br><span class="line">|                     2 |</span><br><span class="line">+-----------------------+</span><br></pre></td></tr></table></figure>



<h5 id="10、查询score表中的最高分的学生学号和课程号（子查询或者排序（排序不能知道有几个最高分））max-…-…代表列"><a href="#10、查询score表中的最高分的学生学号和课程号（子查询或者排序（排序不能知道有几个最高分））max-…-…代表列" class="headerlink" title="10、查询score表中的最高分的学生学号和课程号（子查询或者排序（排序不能知道有几个最高分））max(…) …代表列"></a>10、查询score表中的最高分的学生学号和课程号（子查询或者排序（排序不能知道有几个最高分））max(…) …代表列</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from score where degree &#x3D;(select max(degree) from score); #复合语句</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1010 | c003 |     94 |</span><br><span class="line">+------+------+--------+</span><br><span class="line">mysql&gt; select * from score order by degree desc limit 0,2; #从第0个数开始的两个数</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1010 | c003 |     94 |</span><br><span class="line">| 1003 | c002 |     91 |</span><br><span class="line">+------+------+--------+</span><br><span class="line">mysql&gt; select * from score order by degree desc limit 0,1;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1010 | c003 |     94 |</span><br><span class="line">+------+------+--------+</span><br><span class="line">​</span><br></pre></td></tr></table></figure>
<h5 id="11、查询每门课的平均成绩-avg-…-group-by-分组"><a href="#11、查询每门课的平均成绩-avg-…-group-by-分组" class="headerlink" title="11、查询每门课的平均成绩 avg(…) group by 分组"></a>11、查询每门课的平均成绩 avg(…) group by 分组</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select avg(degree) as &quot;高等数学&quot; from score where cno &#x3D; &quot;c001&quot;;</span><br><span class="line">+----------+</span><br><span class="line">| 高等数学 |</span><br><span class="line">+----------+</span><br><span class="line">|  71.0909 |</span><br><span class="line">+----------+</span><br><span class="line">mysql&gt; select cno,avg(degree) from score group by cno;</span><br><span class="line">+------+-------------+</span><br><span class="line">| cno  | avg(degree) |</span><br><span class="line">+------+-------------+</span><br><span class="line">| c001 |     71.0909 |</span><br><span class="line">| c002 |     74.6667 |</span><br><span class="line">| c003 |     71.2857 |</span><br><span class="line">| c004 |     72.2857 |</span><br><span class="line">+------+-------------+</span><br></pre></td></tr></table></figure>
<h5 id="12、查询每个班的人数找到人数大于五的班级-group-by-分组-having筛选"><a href="#12、查询每个班的人数找到人数大于五的班级-group-by-分组-having筛选" class="headerlink" title="12、查询每个班的人数找到人数大于五的班级 group by 分组 having筛选"></a>12、查询每个班的人数找到人数大于五的班级 group by 分组 having筛选</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select class,count(class)as &quot;peoople&quot; from student group by class;</span><br><span class="line">+--------+---------+</span><br><span class="line">| class  | peoople |</span><br><span class="line">+--------+---------+</span><br><span class="line">| 170807 |       5 |</span><br><span class="line">| 170808 |       6 |</span><br><span class="line">+--------+---------+</span><br><span class="line">​mysql&gt; select class,count(class) from student group by class having count(sno)&gt;5;</span><br><span class="line">+--------+--------------+</span><br><span class="line">| class  | count(class) |</span><br><span class="line">+--------+--------------+</span><br><span class="line">| 170808 |            6 |</span><br><span class="line">+--------+--------------+</span><br></pre></td></tr></table></figure>
<h5 id="13、查询score表中至少有5名学生选修且课程编号以“3”结尾的课程号和平均成绩-having-和group-by一起用作过滤筛选"><a href="#13、查询score表中至少有5名学生选修且课程编号以“3”结尾的课程号和平均成绩-having-和group-by一起用作过滤筛选" class="headerlink" title="13、查询score表中至少有5名学生选修且课程编号以“3”结尾的课程号和平均成绩 having 和group by一起用作过滤筛选"></a>13、查询score表中至少有5名学生选修且课程编号以“3”结尾的课程号和平均成绩 having 和group by一起用作过滤筛选</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select cno,avg(degree) from score group by cno;</span><br><span class="line">+------+-------------+</span><br><span class="line">| cno  | avg(degree) |</span><br><span class="line">+------+-------------+</span><br><span class="line">| c001 |     71.0909 |</span><br><span class="line">| c002 |     74.6667 |</span><br><span class="line">| c003 |     71.2857 |</span><br><span class="line">| c004 |     72.2857 |</span><br><span class="line">+------+-------------+</span><br><span class="line">​mysql&gt; select cno,avg(degree) from score group by cno having count(cno)&gt;5;</span><br><span class="line">+------+-------------+</span><br><span class="line">| cno  | avg(degree) |</span><br><span class="line">+------+-------------+</span><br><span class="line">| c001 |     71.0909 |</span><br><span class="line">| c003 |     71.2857 |</span><br><span class="line">| c004 |     72.2857 |</span><br><span class="line">+------+-------------+</span><br><span class="line">​mysql&gt; select cno,avg(degree) from score group by cno having count(cno)&gt;&#x3D;5 and cno like &quot;%3&quot;;</span><br><span class="line">+------+-------------+</span><br><span class="line">| cno  | avg(degree) |</span><br><span class="line">+------+-------------+</span><br><span class="line">| c003 |     71.2857 |</span><br><span class="line">+------+-------------+</span><br></pre></td></tr></table></figure>
<h5 id="14、查询分数大于70小于90的sno列"><a href="#14、查询分数大于70小于90的sno列" class="headerlink" title="14、查询分数大于70小于90的sno列"></a>14、查询分数大于70小于90的sno列</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sno,degree from score where degree between 70 and 90;</span><br><span class="line">+------+--------+</span><br><span class="line">| sno  | degree |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1001 |     86 |</span><br><span class="line">| 1001 |     87 |</span><br><span class="line">| 1002 |     90 |</span><br><span class="line">| 1003 |     77 |</span><br><span class="line">| 1003 |     80 |</span><br><span class="line">| 1004 |     70 |</span><br><span class="line">| 1007 |     78 |</span><br><span class="line">| 1008 |     90 |</span><br><span class="line">| 1009 |     89 |</span><br><span class="line">| 1010 |     82 |</span><br><span class="line">| 1011 |     79 |</span><br><span class="line">+------+--------+</span><br><span class="line">mysql&gt; select * from score where degree between 70 and 90;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c001 |     86 |</span><br><span class="line">| 1001 | c002 |     87 |</span><br><span class="line">| 1002 | c001 |     90 |</span><br><span class="line">| 1003 | c001 |     77 |</span><br><span class="line">| 1003 | c003 |     80 |</span><br><span class="line">| 1004 | c004 |     70 |</span><br><span class="line">| 1007 | c001 |     78 |</span><br><span class="line">| 1008 | c001 |     90 |</span><br><span class="line">| 1009 | c004 |     89 |</span><br><span class="line">| 1010 | c004 |     82 |</span><br><span class="line">| 1011 | c003 |     79 |</span><br><span class="line">+------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="15、查询所有学生的sname，cno和degree列-（姓名，课程，成绩）多表查询"><a href="#15、查询所有学生的sname，cno和degree列-（姓名，课程，成绩）多表查询" class="headerlink" title="15、查询所有学生的sname，cno和degree列 （姓名，课程，成绩）多表查询"></a>15、查询所有学生的sname，cno和degree列 （姓名，课程，成绩）多表查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sno, sname from student;</span><br><span class="line">+------+--------+</span><br><span class="line">| sno  | sname  |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1001 | 张三   |</span><br><span class="line">| 1002 | 李博   |</span><br><span class="line">| 1003 | 王小华 |</span><br><span class="line">| 1004 | 郑楠   |</span><br><span class="line">| 1005 | 吴昕   |</span><br><span class="line">| 1006 | 赵四   |</span><br><span class="line">| 1007 | 李丽   |</span><br><span class="line">| 1008 | 李四光 |</span><br><span class="line">| 1009 | 雷达   |</span><br><span class="line">| 1010 | 苏伟文 |</span><br><span class="line">| 1011 | 严格   |</span><br><span class="line">+------+--------+</span><br><span class="line">​mysql&gt; select * from score;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c001 |     86 |</span><br><span class="line">| 1001 | c002 |     87 |</span><br><span class="line">| 1001 | c004 |     66 |</span><br><span class="line">| 1002 | c001 |     90 |</span><br><span class="line">| 1003 | c001 |     77 |</span><br><span class="line">| 1003 | c002 |     91 |</span><br><span class="line">| 1003 | c003 |     80 |</span><br><span class="line">| 1004 | c001 |     65 |</span><br><span class="line">| 1004 | c004 |     70 |</span><br><span class="line">| 1005 | c001 |     45 |</span><br><span class="line">| 1005 | c003 |     65 |</span><br><span class="line">| 1005 | c004 |     68 |</span><br><span class="line">| 1006 | c001 |     67 |</span><br><span class="line">| 1006 | c002 |     46 |</span><br><span class="line">| 1006 | c003 |     61 |</span><br><span class="line">| 1007 | c001 |     78 |</span><br><span class="line">| 1007 | c003 |     60 |</span><br><span class="line">| 1007 | c004 |     62 |</span><br><span class="line">| 1008 | c001 |     90 |</span><br><span class="line">| 1008 | c003 |     60 |</span><br><span class="line">| 1009 | c001 |     55 |</span><br><span class="line">| 1009 | c004 |     89 |</span><br><span class="line">| 1010 | c001 |     60 |</span><br><span class="line">| 1010 | c003 |     94 |</span><br><span class="line">| 1010 | c004 |     82 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">| 1011 | c003 |     79 |</span><br><span class="line">| 1011 | c004 |     69 |</span><br><span class="line">+------+------+--------+</span><br><span class="line">mysql&gt; select sname,cno,degree from student,score where student.sno&#x3D;score.sno;</span><br><span class="line">+--------+------+--------+</span><br><span class="line">| sname  | cno  | degree |</span><br><span class="line">+--------+------+--------+</span><br><span class="line">| 张三   | c001 |     86 |</span><br><span class="line">| 张三   | c002 |     87 |</span><br><span class="line">| 张三   | c004 |     66 |</span><br><span class="line">| 李博   | c001 |     90 |</span><br><span class="line">| 王小华 | c001 |     77 |</span><br><span class="line">| 王小华 | c002 |     91 |</span><br><span class="line">| 王小华 | c003 |     80 |</span><br><span class="line">| 郑楠   | c001 |     65 |</span><br><span class="line">| 郑楠   | c004 |     70 |</span><br><span class="line">| 吴昕   | c001 |     45 |</span><br><span class="line">| 吴昕   | c003 |     65 |</span><br><span class="line">| 吴昕   | c004 |     68 |</span><br><span class="line">| 赵四   | c001 |     67 |</span><br><span class="line">| 赵四   | c002 |     46 |</span><br><span class="line">| 赵四   | c003 |     61 |</span><br><span class="line">| 李丽   | c001 |     78 |</span><br><span class="line">| 李丽   | c003 |     60 |</span><br><span class="line">| 李丽   | c004 |     62 |</span><br><span class="line">| 李四光 | c001 |     90 |</span><br><span class="line">| 李四光 | c003 |     60 |</span><br><span class="line">| 雷达   | c001 |     55 |</span><br><span class="line">| 雷达   | c004 |     89 |</span><br><span class="line">| 苏伟文 | c001 |     60 |</span><br><span class="line">| 苏伟文 | c003 |     94 |</span><br><span class="line">| 苏伟文 | c004 |     82 |</span><br><span class="line">| 严格   | c001 |     69 |</span><br><span class="line">| 严格   | c003 |     79 |</span><br><span class="line">| 严格   | c004 |     69 |</span><br><span class="line">+--------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="16、查询教师的tname，cno（姓名，课程）列"><a href="#16、查询教师的tname，cno（姓名，课程）列" class="headerlink" title="16、查询教师的tname，cno（姓名，课程）列"></a>16、查询教师的tname，cno（姓名，课程）列</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select tname,cno from teacher,course where teacher.tno &#x3D; course.tno;</span><br><span class="line">+--------+------+</span><br><span class="line">| tname  | cno  |</span><br><span class="line">+--------+------+</span><br><span class="line">| 傅亨   | c003 |</span><br><span class="line">| 余华   | c002 |</span><br><span class="line">| 王建国 | c001 |</span><br><span class="line">| 李喜泉 | c004 |</span><br><span class="line">+--------+------+</span><br></pre></td></tr></table></figure>
<h5 id="17、查询所有学生的姓名，课程，成绩-多表查询"><a href="#17、查询所有学生的姓名，课程，成绩-多表查询" class="headerlink" title="17、查询所有学生的姓名，课程，成绩 多表查询"></a>17、查询所有学生的姓名，课程，成绩 多表查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sname,cname,degree from student,course,score where student.sno&#x3D;score.sno and course.cno&#x3D;score.cno;</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| sname  | cname      | degree |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| 张三   | 高等数学   |     86 |</span><br><span class="line">| 李博   | 高等数学   |     90 |</span><br><span class="line">| 王小华 | 高等数学   |     77 |</span><br><span class="line">| 郑楠   | 高等数学   |     65 |</span><br><span class="line">| 吴昕   | 高等数学   |     45 |</span><br><span class="line">| 赵四   | 高等数学   |     67 |</span><br><span class="line">| 李丽   | 高等数学   |     78 |</span><br><span class="line">| 李四光 | 高等数学   |     90 |</span><br><span class="line">| 雷达   | 高等数学   |     55 |</span><br><span class="line">| 苏伟文 | 高等数学   |     60 |</span><br><span class="line">| 严格   | 高等数学   |     69 |</span><br><span class="line">| 张三   | 形势与政策 |     87 |</span><br><span class="line">| 王小华 | 形势与政策 |     91 |</span><br><span class="line">| 赵四   | 形势与政策 |     46 |</span><br><span class="line">| 王小华 | 计算机概论 |     80 |</span><br><span class="line">| 吴昕   | 计算机概论 |     65 |</span><br><span class="line">| 赵四   | 计算机概论 |     61 |</span><br><span class="line">| 李丽   | 计算机概论 |     60 |</span><br><span class="line">| 李四光 | 计算机概论 |     60 |</span><br><span class="line">| 苏伟文 | 计算机概论 |     94 |</span><br><span class="line">| 严格   | 计算机概论 |     79 |</span><br><span class="line">| 张三   | 数字电路   |     66 |</span><br><span class="line">| 郑楠   | 数字电路   |     70 |</span><br><span class="line">| 吴昕   | 数字电路   |     68 |</span><br><span class="line">| 李丽   | 数字电路   |     62 |</span><br><span class="line">| 雷达   | 数字电路   |     89 |</span><br><span class="line">| 苏伟文 | 数字电路   |     82 |</span><br><span class="line">| 严格   | 数字电路   |     69 |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">mysql&gt; select sname,cname,degree from student,course,score where student.sno&#x3D;score.sno and course.cno&#x3D;score.cno order by student.sname;</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| sname  | cname      | degree |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| 严格   | 高等数学   |     69 |</span><br><span class="line">| 严格   | 计算机概论 |     79 |</span><br><span class="line">| 严格   | 数字电路   |     69 |</span><br><span class="line">| 吴昕   | 高等数学   |     45 |</span><br><span class="line">| 吴昕   | 计算机概论 |     65 |</span><br><span class="line">| 吴昕   | 数字电路   |     68 |</span><br><span class="line">| 张三   | 高等数学   |     86 |</span><br><span class="line">| 张三   | 形势与政策 |     87 |</span><br><span class="line">| 张三   | 数字电路   |     66 |</span><br><span class="line">| 李丽   | 高等数学   |     78 |</span><br><span class="line">| 李丽   | 计算机概论 |     60 |</span><br><span class="line">| 李丽   | 数字电路   |     62 |</span><br><span class="line">| 李博   | 高等数学   |     90 |</span><br><span class="line">| 李四光 | 高等数学   |     90 |</span><br><span class="line">| 李四光 | 计算机概论 |     60 |</span><br><span class="line">| 王小华 | 高等数学   |     77 |</span><br><span class="line">| 王小华 | 形势与政策 |     91 |</span><br><span class="line">| 王小华 | 计算机概论 |     80 |</span><br><span class="line">| 苏伟文 | 高等数学   |     60 |</span><br><span class="line">| 苏伟文 | 计算机概论 |     94 |</span><br><span class="line">| 苏伟文 | 数字电路   |     82 |</span><br><span class="line">| 赵四   | 高等数学   |     67 |</span><br><span class="line">| 赵四   | 形势与政策 |     46 |</span><br><span class="line">| 赵四   | 计算机概论 |     61 |</span><br><span class="line">| 郑楠   | 高等数学   |     65 |</span><br><span class="line">| 郑楠   | 数字电路   |     70 |</span><br><span class="line">| 雷达   | 高等数学   |     55 |</span><br><span class="line">| 雷达   | 数字电路   |     89 |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">mysql&gt; select student.sno,course.cno,sname,cname,degree from student,course,score where student.sno&#x3D;score.sno and course.cno&#x3D;score.cno;</span><br><span class="line">+------+------+--------+------------+--------+</span><br><span class="line">| sno  | cno  | sname  | cname      | degree |</span><br><span class="line">+------+------+--------+------------+--------+</span><br><span class="line">| 1001 | c001 | 张三   | 高等数学   |     86 |</span><br><span class="line">| 1002 | c001 | 李博   | 高等数学   |     90 |</span><br><span class="line">| 1003 | c001 | 王小华 | 高等数学   |     77 |</span><br><span class="line">| 1004 | c001 | 郑楠   | 高等数学   |     65 |</span><br><span class="line">| 1005 | c001 | 吴昕   | 高等数学   |     45 |</span><br><span class="line">| 1006 | c001 | 赵四   | 高等数学   |     67 |</span><br><span class="line">| 1007 | c001 | 李丽   | 高等数学   |     78 |</span><br><span class="line">| 1008 | c001 | 李四光 | 高等数学   |     90 |</span><br><span class="line">| 1009 | c001 | 雷达   | 高等数学   |     55 |</span><br><span class="line">| 1010 | c001 | 苏伟文 | 高等数学   |     60 |</span><br><span class="line">| 1011 | c001 | 严格   | 高等数学   |     69 |</span><br><span class="line">| 1001 | c002 | 张三   | 形势与政策 |     87 |</span><br><span class="line">| 1003 | c002 | 王小华 | 形势与政策 |     91 |</span><br><span class="line">| 1006 | c002 | 赵四   | 形势与政策 |     46 |</span><br><span class="line">| 1003 | c003 | 王小华 | 计算机概论 |     80 |</span><br><span class="line">| 1005 | c003 | 吴昕   | 计算机概论 |     65 |</span><br><span class="line">| 1006 | c003 | 赵四   | 计算机概论 |     61 |</span><br><span class="line">| 1007 | c003 | 李丽   | 计算机概论 |     60 |</span><br><span class="line">| 1008 | c003 | 李四光 | 计算机概论 |     60 |</span><br><span class="line">| 1010 | c003 | 苏伟文 | 计算机概论 |     94 |</span><br><span class="line">| 1011 | c003 | 严格   | 计算机概论 |     79 |</span><br><span class="line">| 1001 | c004 | 张三   | 数字电路   |     66 |</span><br><span class="line">| 1004 | c004 | 郑楠   | 数字电路   |     70 |</span><br><span class="line">| 1005 | c004 | 吴昕   | 数字电路   |     68 |</span><br><span class="line">| 1007 | c004 | 李丽   | 数字电路   |     62 |</span><br><span class="line">| 1009 | c004 | 雷达   | 数字电路   |     89 |</span><br><span class="line">| 1010 | c004 | 苏伟文 | 数字电路   |     82 |</span><br><span class="line">| 1011 | c004 | 严格   | 数字电路   |     69 |</span><br><span class="line">+------+------+--------+------------+--------+</span><br><span class="line">​</span><br></pre></td></tr></table></figure>
<h5 id="18、查询不及格的同学的姓名，课程，成绩-多表查询"><a href="#18、查询不及格的同学的姓名，课程，成绩-多表查询" class="headerlink" title="18、查询不及格的同学的姓名，课程，成绩 多表查询"></a>18、查询不及格的同学的姓名，课程，成绩 多表查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sname,degree from student,score where student.sno&#x3D;score.sno and degree&lt;60;</span><br><span class="line">+-------+--------+</span><br><span class="line">| sname | degree |</span><br><span class="line">+-------+--------+</span><br><span class="line">| 吴昕  |     45 |</span><br><span class="line">| 赵四  |     46 |</span><br><span class="line">| 雷达  |     55 |</span><br><span class="line">+-------+--------+</span><br><span class="line">mysql&gt; select sname,cname,degree from student,course,score where student.sno&#x3D;score.sno and course.cno&#x3D;score.cno &amp;&amp; degree&lt;60;</span><br><span class="line">+-------+------------+--------+</span><br><span class="line">| sname | cname      | degree |</span><br><span class="line">+-------+------------+--------+</span><br><span class="line">| 吴昕  | 高等数学   |     45 |</span><br><span class="line">| 雷达  | 高等数学   |     55 |</span><br><span class="line">| 赵四  | 形势与政策 |     46 |</span><br><span class="line">+-------+------------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="19、查询170807班每个学生的平均成绩-多表查询"><a href="#19、查询170807班每个学生的平均成绩-多表查询" class="headerlink" title="19、查询170807班每个学生的平均成绩 多表查询"></a>19、查询170807班每个学生的平均成绩 多表查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sno,sname from student where class&#x3D;&quot;170807&quot;;</span><br><span class="line">+------+--------+</span><br><span class="line">| sno  | sname  |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1001 | 张三   |</span><br><span class="line">| 1004 | 郑楠   |</span><br><span class="line">| 1005 | 吴昕   |</span><br><span class="line">| 1008 | 李四光 |</span><br><span class="line">| 1009 | 雷达   |</span><br><span class="line">+------+--------+</span><br><span class="line">mysql&gt; select sno,avg(degree) from score group by sno;</span><br><span class="line">+------+-------------+</span><br><span class="line">| sno  | avg(degree) |</span><br><span class="line">+------+-------------+</span><br><span class="line">| 1001 |     79.6667 |</span><br><span class="line">| 1002 |     90.0000 |</span><br><span class="line">| 1003 |     82.6667 |</span><br><span class="line">| 1004 |     67.5000 |</span><br><span class="line">| 1005 |     59.3333 |</span><br><span class="line">| 1006 |     58.0000 |</span><br><span class="line">| 1007 |     66.6667 |</span><br><span class="line">| 1008 |     75.0000 |</span><br><span class="line">| 1009 |     72.0000 |</span><br><span class="line">| 1010 |     78.6667 |</span><br><span class="line">| 1011 |     72.3333 |</span><br><span class="line">+------+-------------+</span><br><span class="line">mysql&gt; select sname,avg(degree) from student,score where student.sno&#x3D;score.sno and student.class&#x3D;&quot;170807&quot; group by student.sno; &#x2F;&#x2F;多表查询</span><br><span class="line">+--------+-------------+</span><br><span class="line">| sname  | avg(degree) |</span><br><span class="line">+--------+-------------+</span><br><span class="line">| 张三   |     79.6667 |</span><br><span class="line">| 郑楠   |     67.5000 |</span><br><span class="line">| 吴昕   |     59.3333 |</span><br><span class="line">| 李四光 |     75.0000 |</span><br><span class="line">| 雷达   |     72.0000 |</span><br><span class="line">+--------+-------------+</span><br></pre></td></tr></table></figure>
<h5 id="20、查询选修c001课程的同学中成绩高于1006号同学的所有记录-子查询"><a href="#20、查询选修c001课程的同学中成绩高于1006号同学的所有记录-子查询" class="headerlink" title="20、查询选修c001课程的同学中成绩高于1006号同学的所有记录 子查询"></a>20、查询选修c001课程的同学中成绩高于1006号同学的所有记录 子查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select degree from score where sno&#x3D;&quot;1006&quot; and cno&#x3D;&quot;c001&quot;;</span><br><span class="line">+--------+</span><br><span class="line">| degree |</span><br><span class="line">+--------+</span><br><span class="line">|     67 |</span><br><span class="line">+--------+</span><br><span class="line">mysql&gt; select * from score where degree&gt;(select degree from score where sno&#x3D;&quot;1006&quot; and cno&#x3D;&quot;c001&quot;) and cno&#x3D;&quot;c001&quot;;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c001 |     86 |</span><br><span class="line">| 1002 | c001 |     90 |</span><br><span class="line">| 1003 | c001 |     77 |</span><br><span class="line">| 1007 | c001 |     78 |</span><br><span class="line">| 1008 | c001 |     90 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">+------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="21、查询与学号为1006的同学同年（同月？）出生的所有记录-子查询-year-sbirth"><a href="#21、查询与学号为1006的同学同年（同月？）出生的所有记录-子查询-year-sbirth" class="headerlink" title="21、查询与学号为1006的同学同年（同月？）出生的所有记录 子查询 year(sbirth)"></a>21、查询与学号为1006的同学同年（同月？）出生的所有记录 子查询 year(sbirth)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select year(sbirth),month(sbirth),day(sbirth) from student where sno&#x3D;&quot;1006&quot;;</span><br><span class="line">+--------------+---------------+-------------+</span><br><span class="line">| year(sbirth) | month(sbirth) | day(sbirth) |</span><br><span class="line">+--------------+---------------+-------------+</span><br><span class="line">|         1999 |             1 |           5 |</span><br><span class="line">+--------------+---------------+-------------+</span><br><span class="line">mysql&gt; select *from student where year(sbirth) in(select year(sbirth) from student where sno &#x3D; &quot;1006&quot;);</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1001 | 张三   | 男   | 1999-08-19 | 170807 |</span><br><span class="line">| 1002 | 李博   | 男   | 1999-02-09 | 170808 |</span><br><span class="line">| 1004 | 郑楠   | 男   | 1999-11-16 | 170807 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1006 | 赵四   | 男   | 1999-01-05 | 170808 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">| 1008 | 李四光 | 男   | 1999-08-11 | 170807 |</span><br><span class="line">| 1009 | 雷达   | 男   | 1999-05-02 | 170807 |</span><br><span class="line">| 1010 | 苏伟文 | 男   | 1999-06-17 | 170808 |</span><br><span class="line">| 1011 | 严格   | 男   | 1999-10-01 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line"></span><br><span class="line">​</span><br></pre></td></tr></table></figure>
<h5 id="22、查询王建国教师所教学生的成绩-子查询（套娃）"><a href="#22、查询王建国教师所教学生的成绩-子查询（套娃）" class="headerlink" title="22、查询王建国教师所教学生的成绩 子查询（套娃）"></a>22、查询王建国教师所教学生的成绩 子查询（套娃）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from teacher where tname &#x3D; &quot;王建国&quot;;</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| tno  | tname  | tsex | tbirth     | professional | department |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| Z078 | 王建国 | 男   | 1978-02-11 | 讲师         | 计算机学院 |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">mysql&gt; select tno from teacher where tname &#x3D; &quot;王建国&quot;;</span><br><span class="line">+------+</span><br><span class="line">| tno  |</span><br><span class="line">+------+</span><br><span class="line">| Z078 |</span><br><span class="line">+------+</span><br><span class="line">mysql&gt; select *from course where tno in(select tno from teacher where tname &#x3D; &quot;王建国&quot;);</span><br><span class="line">+------+----------+------+</span><br><span class="line">| cno  | cname    | tno  |</span><br><span class="line">+------+----------+------+</span><br><span class="line">| c001 | 高等数学 | z078 |</span><br><span class="line">+------+----------+------+</span><br><span class="line">mysql&gt; select cno from course where tno in(select tno from teacher where tname &#x3D; &quot;王建国&quot;);</span><br><span class="line">+------+</span><br><span class="line">| cno  |</span><br><span class="line">+------+</span><br><span class="line">| c001 |</span><br><span class="line">+------+</span><br><span class="line">mysql&gt; select *from score where cno in(select cno from course where tno in(select tno from teacher where tname &#x3D; &quot;王建国&quot;));</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c001 |     86 |</span><br><span class="line">| 1002 | c001 |     90 |</span><br><span class="line">| 1003 | c001 |     77 |</span><br><span class="line">| 1004 | c001 |     65 |</span><br><span class="line">| 1005 | c001 |     45 |</span><br><span class="line">| 1006 | c001 |     67 |</span><br><span class="line">| 1007 | c001 |     78 |</span><br><span class="line">| 1008 | c001 |     90 |</span><br><span class="line">| 1009 | c001 |     55 |</span><br><span class="line">| 1010 | c001 |     60 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">+------+------+--------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="23、查询所有任课教师的姓名和部门-多表查询mysql"><a href="#23、查询所有任课教师的姓名和部门-多表查询mysql" class="headerlink" title="23、查询所有任课教师的姓名和部门 多表查询mysql"></a>23、查询所有任课教师的姓名和部门 多表查询mysql</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select tname,department from teacher;</span><br><span class="line">+--------+------------+</span><br><span class="line">| tname  | department |</span><br><span class="line">+--------+------------+</span><br><span class="line">| 傅亨   | 计算机学院 |</span><br><span class="line">| 余华   | 文学院     |</span><br><span class="line">| 王建国 | 计算机学院 |</span><br><span class="line">| 李喜泉 | 信息学院   |</span><br><span class="line">+--------+------------+</span><br><span class="line">mysql&gt; select tname,department,cname from teacher,course where teacher.tno&#x3D;course.tno;</span><br><span class="line">+--------+------------+------------+</span><br><span class="line">| tname  | department | cname      |</span><br><span class="line">+--------+------------+------------+</span><br><span class="line">| 傅亨   | 计算机学院 | 计算机概论 |</span><br><span class="line">| 余华   | 文学院     | 形势与政策 |</span><br><span class="line">| 王建国 | 计算机学院 | 高等数学   |</span><br><span class="line">| 李喜泉 | 信息学院   | 数字电路   |</span><br><span class="line">+--------+------------+------------+</span><br></pre></td></tr></table></figure>
<h5 id="24、查询每个教师所教的课程的名字和人数-多表查询"><a href="#24、查询每个教师所教的课程的名字和人数-多表查询" class="headerlink" title="24、查询每个教师所教的课程的名字和人数  多表查询"></a>24、查询每个教师所教的课程的名字和人数  多表查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select tname,cname,count(score.cno) as stu_num from teacher,course,score where teacher.tno&#x3D;course.tno and course.cno&#x3D;score.cno group by score.cno;</span><br><span class="line">+--------+------------+---------+</span><br><span class="line">| tname  | cname      | stu_num |</span><br><span class="line">+--------+------------+---------+</span><br><span class="line">| 傅亨   | 计算机概论 |       7 |</span><br><span class="line">| 余华   | 形势与政策 |       3 |</span><br><span class="line">| 王建国 | 高等数学   |      11 |</span><br><span class="line">| 李喜泉 | 数字电路   |       7 |</span><br><span class="line">+--------+------------+---------+</span><br></pre></td></tr></table></figure>
<h5 id="25、查询男教师的姓名，课程，人数-多表查询"><a href="#25、查询男教师的姓名，课程，人数-多表查询" class="headerlink" title="25、查询男教师的姓名，课程，人数 多表查询"></a>25、查询男教师的姓名，课程，人数 多表查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select tname,cname,count(score.cno) from teacher,course,score where teacher.tno&#x3D;course.tno and course.cno&#x3D;score.cno and tsex&#x3D;&quot;男&quot; group by score.cno;</span><br><span class="line">+--------+------------+------------------+</span><br><span class="line">| tname  | cname      | count(score.cno) |</span><br><span class="line">+--------+------------+------------------+</span><br><span class="line">| 傅亨   | 计算机概论 |                7 |</span><br><span class="line">| 王建国 | 高等数学   |               11 |</span><br><span class="line">| 李喜泉 | 数字电路   |                7 |</span><br><span class="line">+--------+------------+------------------+</span><br></pre></td></tr></table></figure>
<h5 id="26、查询选修人数超过5人的课程和教师姓名-多表查询"><a href="#26、查询选修人数超过5人的课程和教师姓名-多表查询" class="headerlink" title="26、查询选修人数超过5人的课程和教师姓名 多表查询"></a>26、查询选修人数超过5人的课程和教师姓名 多表查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select cno from score group by cno having c ount(cno)&gt;5;</span><br><span class="line">+------+</span><br><span class="line">| cno  |</span><br><span class="line">+------+</span><br><span class="line">| c001 |</span><br><span class="line">| c003 |</span><br><span class="line">| c004 |</span><br><span class="line">+------+</span><br><span class="line">mysql&gt; select tname,cname from teacher,course where teacher.tno&#x3D;course.tno and cno in(select cno from score group by cno having count(cno)&gt;5);</span><br><span class="line">+--------+------------+</span><br><span class="line">| tname  | cname      |</span><br><span class="line">+--------+------------+</span><br><span class="line">| 傅亨   | 计算机概论 |</span><br><span class="line">| 王建国 | 高等数学   |</span><br><span class="line">| 李喜泉 | 数字电路   |</span><br><span class="line">+--------+------------+</span><br><span class="line">mysql&gt; select tname,cname,count(score.cno) as stu_num from teacher,course,score where teacher.tno&#x3D;course.tno and course.cno&#x3D;score.cno group by score.cno having count(score.cno)&gt;5;</span><br><span class="line">+--------+------------+---------+</span><br><span class="line">| tname  | cname      | stu_num |</span><br><span class="line">+--------+------------+---------+</span><br><span class="line">| 傅亨   | 计算机概论 |       7 |</span><br><span class="line">| 王建国 | 高等数学   |      11 |</span><br><span class="line">| 李喜泉 | 数字电路   |       7 |</span><br><span class="line">+--------+------------+---------+</span><br></pre></td></tr></table></figure>
<h5 id="27、查询170807和170808班全体学生的记录"><a href="#27、查询170807和170808班全体学生的记录" class="headerlink" title="27、查询170807和170808班全体学生的记录"></a>27、查询170807和170808班全体学生的记录</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from student where class in(&quot;170807&quot;,&quot;170808&quot;);</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1001 | 张三   | 男   | 1999-08-19 | 170807 |</span><br><span class="line">| 1002 | 李博   | 男   | 1999-02-09 | 170808 |</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1004 | 郑楠   | 男   | 1999-11-16 | 170807 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1006 | 赵四   | 男   | 1999-01-05 | 170808 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">| 1008 | 李四光 | 男   | 1999-08-11 | 170807 |</span><br><span class="line">| 1009 | 雷达   | 男   | 1999-05-02 | 170807 |</span><br><span class="line">| 1010 | 苏伟文 | 男   | 1999-06-17 | 170808 |</span><br><span class="line">| 1011 | 严格   | 男   | 1999-10-01 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="28、查询计算机系教师所教课程的成绩表-子查询（套娃）多表查询"><a href="#28、查询计算机系教师所教课程的成绩表-子查询（套娃）多表查询" class="headerlink" title="28、查询计算机系教师所教课程的成绩表 子查询（套娃）多表查询"></a>28、查询计算机系教师所教课程的成绩表 子查询（套娃）多表查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from teacher where department &#x3D; &quot;计算机学院&quot;;</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| tno  | tname  | tsex | tbirth     | professional | department |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| Z043 | 傅亨   | 男   | 1975-01-01 | 教授         | 计算机学院 |</span><br><span class="line">| Z078 | 王建国 | 男   | 1978-02-11 | 讲师         | 计算机学院 |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">mysql&gt; select tno from teacher where department &#x3D; &quot;计算机学院&quot;;</span><br><span class="line">+------+</span><br><span class="line">| tno  |</span><br><span class="line">+------+</span><br><span class="line">| Z043 |</span><br><span class="line">| Z078 |</span><br><span class="line">+------+</span><br><span class="line">mysql&gt; select cno from course where tno in(select tno from teacher where department &#x3D; &quot;计算机学院&quot;);</span><br><span class="line">+------+</span><br><span class="line">| cno  |</span><br><span class="line">+------+</span><br><span class="line">| c003 |</span><br><span class="line">| c001 |</span><br><span class="line">+------+</span><br><span class="line">mysql&gt; select * from score where cno in(select cno from course where tno in(select tno from teacher where department &#x3D; &quot;计算机学院&quot;));;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1003 | c003 |     80 |</span><br><span class="line">| 1005 | c003 |     65 |</span><br><span class="line">| 1006 | c003 |     61 |</span><br><span class="line">| 1007 | c003 |     60 |</span><br><span class="line">| 1008 | c003 |     60 |</span><br><span class="line">| 1010 | c003 |     94 |</span><br><span class="line">| 1011 | c003 |     79 |</span><br><span class="line">| 1001 | c001 |     86 |</span><br><span class="line">| 1002 | c001 |     90 |</span><br><span class="line">| 1003 | c001 |     77 |</span><br><span class="line">| 1004 | c001 |     65 |</span><br><span class="line">| 1005 | c001 |     45 |</span><br><span class="line">| 1006 | c001 |     67 |</span><br><span class="line">| 1007 | c001 |     78 |</span><br><span class="line">| 1008 | c001 |     90 |</span><br><span class="line">| 1009 | c001 |     55 |</span><br><span class="line">| 1010 | c001 |     60 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">+------+------+--------+</span><br><span class="line">mysql&gt; select sname,cname,degree from student,course,score where student.sno&#x3D;score.sno and course.cno&#x3D;score.cno;</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| sname  | cname      | degree |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| 张三   | 高等数学   |     86 |</span><br><span class="line">| 李博   | 高等数学   |     90 |</span><br><span class="line">| 王小华 | 高等数学   |     77 |</span><br><span class="line">| 郑楠   | 高等数学   |     65 |</span><br><span class="line">| 吴昕   | 高等数学   |     45 |</span><br><span class="line">| 赵四   | 高等数学   |     67 |</span><br><span class="line">| 李丽   | 高等数学   |     78 |</span><br><span class="line">| 李四光 | 高等数学   |     90 |</span><br><span class="line">| 雷达   | 高等数学   |     55 |</span><br><span class="line">| 苏伟文 | 高等数学   |     60 |</span><br><span class="line">| 严格   | 高等数学   |     69 |</span><br><span class="line">| 张三   | 形势与政策 |     87 |</span><br><span class="line">| 王小华 | 形势与政策 |     91 |</span><br><span class="line">| 赵四   | 形势与政策 |     46 |</span><br><span class="line">| 王小华 | 计算机概论 |     80 |</span><br><span class="line">| 吴昕   | 计算机概论 |     65 |</span><br><span class="line">| 赵四   | 计算机概论 |     61 |</span><br><span class="line">| 李丽   | 计算机概论 |     60 |</span><br><span class="line">| 李四光 | 计算机概论 |     60 |</span><br><span class="line">| 苏伟文 | 计算机概论 |     94 |</span><br><span class="line">| 严格   | 计算机概论 |     79 |</span><br><span class="line">| 张三   | 数字电路   |     66 |</span><br><span class="line">| 郑楠   | 数字电路   |     70 |</span><br><span class="line">| 吴昕   | 数字电路   |     68 |</span><br><span class="line">| 李丽   | 数字电路   |     62 |</span><br><span class="line">| 雷达   | 数字电路   |     89 |</span><br><span class="line">| 苏伟文 | 数字电路   |     82 |</span><br><span class="line">| 严格   | 数字电路   |     69 |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">mysql&gt; select sname,cname,degree from student,course,score where student.sno&#x3D;score.sno and course.cno&#x3D;score.cno and course.tno in(select tno from teacher where department &#x3D; &quot;计算机学院&quot;);</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| sname  | cname      | degree |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| 王小华 | 计算机概论 |     80 |</span><br><span class="line">| 吴昕   | 计算机概论 |     65 |</span><br><span class="line">| 赵四   | 计算机概论 |     61 |</span><br><span class="line">| 李丽   | 计算机概论 |     60 |</span><br><span class="line">| 李四光 | 计算机概论 |     60 |</span><br><span class="line">| 苏伟文 | 计算机概论 |     94 |</span><br><span class="line">| 严格   | 计算机概论 |     79 |</span><br><span class="line">| 张三   | 高等数学   |     86 |</span><br><span class="line">| 李博   | 高等数学   |     90 |</span><br><span class="line">| 王小华 | 高等数学   |     77 |</span><br><span class="line">| 郑楠   | 高等数学   |     65 |</span><br><span class="line">| 吴昕   | 高等数学   |     45 |</span><br><span class="line">| 赵四   | 高等数学   |     67 |</span><br><span class="line">| 李丽   | 高等数学   |     78 |</span><br><span class="line">| 李四光 | 高等数学   |     90 |</span><br><span class="line">| 雷达   | 高等数学   |     55 |</span><br><span class="line">| 苏伟文 | 高等数学   |     60 |</span><br><span class="line">| 严格   | 高等数学   |     69 |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">mysql&gt; select sname,cname,degree from student,course,score,teacher where student.sno&#x3D;score.sno and course.cno&#x3D;score.cno and course.tno&#x3D;teacher.tno and department&#x3D;&quot;计算机学院&quot;;</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| sname  | cname      | degree |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| 王小华 | 计算机概论 |     80 |</span><br><span class="line">| 吴昕   | 计算机概论 |     65 |</span><br><span class="line">| 赵四   | 计算机概论 |     61 |</span><br><span class="line">| 李丽   | 计算机概论 |     60 |</span><br><span class="line">| 李四光 | 计算机概论 |     60 |</span><br><span class="line">| 苏伟文 | 计算机概论 |     94 |</span><br><span class="line">| 严格   | 计算机概论 |     79 |</span><br><span class="line">| 张三   | 高等数学   |     86 |</span><br><span class="line">| 李博   | 高等数学   |     90 |</span><br><span class="line">| 王小华 | 高等数学   |     77 |</span><br><span class="line">| 郑楠   | 高等数学   |     65 |</span><br><span class="line">| 吴昕   | 高等数学   |     45 |</span><br><span class="line">| 赵四   | 高等数学   |     67 |</span><br><span class="line">| 李丽   | 高等数学   |     78 |</span><br><span class="line">| 李四光 | 高等数学   |     90 |</span><br><span class="line">| 雷达   | 高等数学   |     55 |</span><br><span class="line">| 苏伟文 | 高等数学   |     60 |</span><br><span class="line">| 严格   | 高等数学   |     69 |</span><br><span class="line">+--------+------------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="29、查询计算机学院和信息学院不同职称的教师-union-将两个语句作用在一起"><a href="#29、查询计算机学院和信息学院不同职称的教师-union-将两个语句作用在一起" class="headerlink" title="29、查询计算机学院和信息学院不同职称的教师 union 将两个语句作用在一起"></a>29、查询计算机学院和信息学院不同职称的教师 union 将两个语句作用在一起</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher where department &#x3D; &quot;信息学院&quot;;</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| tno  | tname  | tsex | tbirth     | professional | department |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| Z088 | 李喜泉 | 男   | 1971-11-11 | 讲师         | 信息学院   |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">mysql&gt; select * from teacher where department &#x3D; &quot;计算机学院&quot;;</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| tno  | tname  | tsex | tbirth     | professional | department |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">| Z043 | 傅亨   | 男   | 1975-01-01 | 教授         | 计算机学院 |</span><br><span class="line">| Z078 | 王建国 | 男   | 1978-02-11 | 讲师         | 计算机学院 |</span><br><span class="line">+------+--------+------+------------+--------------+------------+</span><br><span class="line">​mysql&gt; select * from teacher where department &#x3D; &quot;计算机学院&quot; and professional not in(select professional from teacher where department &#x3D; &quot;信息学院&quot;);</span><br><span class="line">+------+-------+------+------------+--------------+------------+</span><br><span class="line">| tno  | tname | tsex | tbirth     | professional | department |</span><br><span class="line">+------+-------+------+------------+--------------+------------+</span><br><span class="line">| Z043 | 傅亨  | 男   | 1975-01-01 | 教授         | 计算机学院 |</span><br><span class="line">+------+-------+------+------------+--------------+------------+</span><br><span class="line">mysql&gt; select * from teacher where department &#x3D; &quot;信息学院&quot; and professional not in(select professional from teacher where department &#x3D; &quot;计算机学院&quot;);</span><br><span class="line">Empty set (0.00 sec)</span><br><span class="line">mysql&gt;  select * from teacher where department &#x3D; &quot;计算机学院&quot; and professional not in(select professional from teacher where department &#x3D; &quot;信息学院&quot;) union select * from teacher where department &#x3D; &quot;信息学院&quot; and professional not in(select professional from teacher where department &#x3D; &quot;计算机学院&quot;);</span><br><span class="line">+------+-------+------+------------+--------------+------------+</span><br><span class="line">| tno  | tname | tsex | tbirth     | professional | department |</span><br><span class="line">+------+-------+------+------------+--------------+------------+</span><br><span class="line">| Z043 | 傅亨  | 男   | 1975-01-01 | 教授         | 计算机学院 |</span><br><span class="line">+------+-------+------+------------+--------------+------------+</span><br></pre></td></tr></table></figure>
<h5 id="30、查询选择了c001-c003两门课程的学生编号，姓名-group-having"><a href="#30、查询选择了c001-c003两门课程的学生编号，姓名-group-having" class="headerlink" title="30、查询选择了c001,c003两门课程的学生编号，姓名 group having"></a>30、查询选择了c001,c003两门课程的学生编号，姓名 group having</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sno from score where cno in(&quot;c001&quot;,&quot;c003&quot;) group by sno having count(sno)&#x3D;2;</span><br><span class="line">+------+</span><br><span class="line">| sno  |</span><br><span class="line">+------+</span><br><span class="line">| 1003 |</span><br><span class="line">| 1005 |</span><br><span class="line">| 1006 |</span><br><span class="line">| 1007 |</span><br><span class="line">| 1008 |</span><br><span class="line">| 1010 |</span><br><span class="line">| 1011 |</span><br><span class="line">+------+</span><br><span class="line">mysql&gt; select * from student where sno in(select sno from score where cno in(&quot;c001&quot;,&quot;c003&quot;) group by sno having count(sno)&#x3D;2);</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1006 | 赵四   | 男   | 1999-01-05 | 170808 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">| 1008 | 李四光 | 男   | 1999-08-11 | 170807 |</span><br><span class="line">| 1010 | 苏伟文 | 男   | 1999-06-17 | 170808 |</span><br><span class="line">| 1011 | 严格   | 男   | 1999-10-01 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">mysql&gt; select student.sno,sname from score,student where student.sno&#x3D;score.sno and cno in(&quot;c001&quot;,&quot;c003&quot;) group by student.sno having count(student.sno)&#x3D;2;</span><br><span class="line">+------+--------+</span><br><span class="line">| sno  | sname  |</span><br><span class="line">+------+--------+</span><br><span class="line">| 1003 | 王小华 |</span><br><span class="line">| 1005 | 吴昕   |</span><br><span class="line">| 1006 | 赵四   |</span><br><span class="line">| 1007 | 李丽   |</span><br><span class="line">| 1008 | 李四光 |</span><br><span class="line">| 1010 | 苏伟文 |</span><br><span class="line">| 1011 | 严格   |</span><br><span class="line">+------+--------+</span><br><span class="line">​</span><br></pre></td></tr></table></figure>
<h5 id="31、查询选修了c003课程，且成绩高于c001课程最低成绩的学生记录-any-大于其中任意一个"><a href="#31、查询选修了c003课程，且成绩高于c001课程最低成绩的学生记录-any-大于其中任意一个" class="headerlink" title="31、查询选修了c003课程，且成绩高于c001课程最低成绩的学生记录 any 大于其中任意一个"></a>31、查询选修了c003课程，且成绩高于c001课程最低成绩的学生记录 any 大于其中任意一个</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from score where cno&#x3D;&quot;c003&quot; and degree&gt;any(select degree from score where cno&#x3D;&quot;c001&quot;);</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1003 | c003 |     80 |</span><br><span class="line">| 1005 | c003 |     65 |</span><br><span class="line">| 1006 | c003 |     61 |</span><br><span class="line">| 1007 | c003 |     60 |</span><br><span class="line">| 1008 | c003 |     60 |</span><br><span class="line">| 1010 | c003 |     94 |</span><br><span class="line">| 1011 | c003 |     79 |</span><br><span class="line">+------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="32、查询选修了c003课程，且成绩高于c001课程最高成绩的学生记录-all-大于最大"><a href="#32、查询选修了c003课程，且成绩高于c001课程最高成绩的学生记录-all-大于最大" class="headerlink" title="32、查询选修了c003课程，且成绩高于c001课程最高成绩的学生记录 all 大于最大"></a>32、查询选修了c003课程，且成绩高于c001课程最高成绩的学生记录 all 大于最大</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from score where cno&#x3D;&quot;c003&quot; and degree&gt;all(select degree from score where cno&#x3D;&quot;c001&quot;);</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1010 | c003 |     94 |</span><br><span class="line">+------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="33、查询所有教师和同学的姓名，性别，生日-as-别名-union"><a href="#33、查询所有教师和同学的姓名，性别，生日-as-别名-union" class="headerlink" title="33、查询所有教师和同学的姓名，性别，生日 as 别名 union"></a>33、查询所有教师和同学的姓名，性别，生日 as 别名 union</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select tname,tsex,tbirth from teacher;</span><br><span class="line">+--------+------+------------+</span><br><span class="line">| tname  | tsex | tbirth     |</span><br><span class="line">+--------+------+------------+</span><br><span class="line">| 傅亨   | 男   | 1975-01-01 |</span><br><span class="line">| 余华   | 女   | 1974-05-18 |</span><br><span class="line">| 王建国 | 男   | 1978-02-11 |</span><br><span class="line">| 李喜泉 | 男   | 1971-11-11 |</span><br><span class="line">+--------+------+------------+</span><br><span class="line">mysql&gt; select sname,ssex,sbirth from student;</span><br><span class="line">+--------+------+------------+</span><br><span class="line">| sname  | ssex | sbirth     |</span><br><span class="line">+--------+------+------------+</span><br><span class="line">| 张三   | 男   | 1999-08-19 |</span><br><span class="line">| 李博   | 男   | 1999-02-09 |</span><br><span class="line">| 王小华 | 女   | 1998-03-12 |</span><br><span class="line">| 郑楠   | 男   | 1999-11-16 |</span><br><span class="line">| 吴昕   | 女   | 1999-09-09 |</span><br><span class="line">| 赵四   | 男   | 1999-01-05 |</span><br><span class="line">| 李丽   | 女   | 1999-12-01 |</span><br><span class="line">| 李四光 | 男   | 1999-08-11 |</span><br><span class="line">| 雷达   | 男   | 1999-05-02 |</span><br><span class="line">| 苏伟文 | 男   | 1999-06-17 |</span><br><span class="line">| 严格   | 男   | 1999-10-01 |</span><br><span class="line">+--------+------+------------+</span><br><span class="line">mysql&gt; select tname as name,tsex as sex,tbirth as birth from teacher union select sname,ssex,sbirth from student ;</span><br><span class="line">+--------+-----+------------+</span><br><span class="line">| name   | sex | birth      |</span><br><span class="line">+--------+-----+------------+</span><br><span class="line">| 傅亨   | 男  | 1975-01-01 |</span><br><span class="line">| 余华   | 女  | 1974-05-18 |</span><br><span class="line">| 王建国 | 男  | 1978-02-11 |</span><br><span class="line">| 李喜泉 | 男  | 1971-11-11 |</span><br><span class="line">| 张三   | 男  | 1999-08-19 |</span><br><span class="line">| 李博   | 男  | 1999-02-09 |</span><br><span class="line">| 王小华 | 女  | 1998-03-12 |</span><br><span class="line">| 郑楠   | 男  | 1999-11-16 |</span><br><span class="line">| 吴昕   | 女  | 1999-09-09 |</span><br><span class="line">| 赵四   | 男  | 1999-01-05 |</span><br><span class="line">| 李丽   | 女  | 1999-12-01 |</span><br><span class="line">| 李四光 | 男  | 1999-08-11 |</span><br><span class="line">| 雷达   | 男  | 1999-05-02 |</span><br><span class="line">| 苏伟文 | 男  | 1999-06-17 |</span><br><span class="line">| 严格   | 男  | 1999-10-01 |</span><br><span class="line">+--------+-----+------------+</span><br></pre></td></tr></table></figure>
<h5 id="34、将查询到的数据生成一个新的表-create-table-…-select-…-from-…"><a href="#34、将查询到的数据生成一个新的表-create-table-…-select-…-from-…" class="headerlink" title="34、将查询到的数据生成一个新的表 create table … (select … from …)"></a>34、将查询到的数据生成一个新的表 create table … (select … from …)</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table info (select tname as name,tsex as sex,tbirth as birth from teacher union select sname,ssex,sbirth from student);</span><br><span class="line">mysql&gt; desc info;</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| Field | Type        | Null | Key | Default | Extra |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br><span class="line">| name  | varchar(20) | NO   |     |         |       |</span><br><span class="line">| sex   | varchar(10) | NO   |     |         |       |</span><br><span class="line">| birth | date        | YES  |     | NULL    |       |</span><br><span class="line">+-------+-------------+------+-----+---------+-------+</span><br></pre></td></tr></table></figure>
<h5 id="35、查询所有女教师和女同学的姓名，性别，生日-union"><a href="#35、查询所有女教师和女同学的姓名，性别，生日-union" class="headerlink" title="35、查询所有女教师和女同学的姓名，性别，生日 union"></a>35、查询所有女教师和女同学的姓名，性别，生日 union</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select tname as name,tsex as sex,tbirth as birth from teacher where tsex&#x3D;&quot;女&quot; union select sname,ssex,sbirth from student where ssex&#x3D;&quot;女&quot;;</span><br><span class="line">+--------+-----+------------+</span><br><span class="line">| name   | sex | birth      |</span><br><span class="line">+--------+-----+------------+</span><br><span class="line">| 余华   | 女  | 1974-05-18 |</span><br><span class="line">| 王小华 | 女  | 1998-03-12 |</span><br><span class="line">| 吴昕   | 女  | 1999-09-09 |</span><br><span class="line">| 李丽   | 女  | 1999-12-01 |</span><br><span class="line">+--------+-----+------------+</span><br></pre></td></tr></table></figure>
<h5 id="36、查询成绩比该课程平均成绩低的同学的成绩表-复制表数据做条件查询"><a href="#36、查询成绩比该课程平均成绩低的同学的成绩表-复制表数据做条件查询" class="headerlink" title="36、查询成绩比该课程平均成绩低的同学的成绩表 复制表数据做条件查询"></a>36、查询成绩比该课程平均成绩低的同学的成绩表 复制表数据做条件查询</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select cno,avg(degree) from score group by cno;</span><br><span class="line">+------+-------------+</span><br><span class="line">| cno  | avg(degree) |</span><br><span class="line">+------+-------------+</span><br><span class="line">| c001 |     71.0909 |</span><br><span class="line">| c002 |     74.6667 |</span><br><span class="line">| c003 |     71.2857 |</span><br><span class="line">| c004 |     72.2857 |</span><br><span class="line">+------+-------------+</span><br><span class="line">mysql&gt; select * from score as a where degree&lt;(select avg(degree) from score as b group by cno having a.cno&#x3D;b.cno);</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1001 | c004 |     66 |</span><br><span class="line">| 1004 | c001 |     65 |</span><br><span class="line">| 1004 | c004 |     70 |</span><br><span class="line">| 1005 | c001 |     45 |</span><br><span class="line">| 1005 | c003 |     65 |</span><br><span class="line">| 1005 | c004 |     68 |</span><br><span class="line">| 1006 | c001 |     67 |</span><br><span class="line">| 1006 | c002 |     46 |</span><br><span class="line">| 1006 | c003 |     61 |</span><br><span class="line">| 1007 | c003 |     60 |</span><br><span class="line">| 1007 | c004 |     62 |</span><br><span class="line">| 1008 | c003 |     60 |</span><br><span class="line">| 1009 | c001 |     55 |</span><br><span class="line">| 1010 | c001 |     60 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">| 1011 | c004 |     69 |</span><br><span class="line">+------+------+--------+</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from score as a where degree&lt;(select avg(degree) from score as b where a.cno&#x3D;b.cno) order by cno;</span><br><span class="line">+------+------+--------+</span><br><span class="line">| sno  | cno  | degree |</span><br><span class="line">+------+------+--------+</span><br><span class="line">| 1004 | c001 |     65 |</span><br><span class="line">| 1005 | c001 |     45 |</span><br><span class="line">| 1006 | c001 |     67 |</span><br><span class="line">| 1009 | c001 |     55 |</span><br><span class="line">| 1010 | c001 |     60 |</span><br><span class="line">| 1011 | c001 |     69 |</span><br><span class="line">| 1006 | c002 |     46 |</span><br><span class="line">| 1005 | c003 |     65 |</span><br><span class="line">| 1006 | c003 |     61 |</span><br><span class="line">| 1007 | c003 |     60 |</span><br><span class="line">| 1008 | c003 |     60 |</span><br><span class="line">| 1001 | c004 |     66 |</span><br><span class="line">| 1004 | c004 |     70 |</span><br><span class="line">| 1005 | c004 |     68 |</span><br><span class="line">| 1007 | c004 |     62 |</span><br><span class="line">| 1011 | c004 |     69 |</span><br><span class="line">+------+------+--------+</span><br><span class="line">​</span><br></pre></td></tr></table></figure>


<h5 id="37、查询至少有两名女生的班级-group-by-class-having"><a href="#37、查询至少有两名女生的班级-group-by-class-having" class="headerlink" title="37、查询至少有两名女生的班级   group by class having"></a>37、查询至少有两名女生的班级   group by class having</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student where ssex&#x3D;&quot;女&quot;;</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">mysql&gt; select class from student where ssex&#x3D;&quot;女&quot; group by class having count(class)&gt;1;</span><br><span class="line">+--------+</span><br><span class="line">| class  |</span><br><span class="line">+--------+</span><br><span class="line">| 170808 |</span><br><span class="line">+--------+</span><br></pre></td></tr></table></figure>



<h5 id="38、查询学生表中不姓李的同学-not-like"><a href="#38、查询学生表中不姓李的同学-not-like" class="headerlink" title="38、查询学生表中不姓李的同学 not like"></a>38、查询学生表中不姓李的同学 not like</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student where sname like(&quot;李%&quot;);</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1002 | 李博   | 男   | 1999-02-09 | 170808 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">| 1008 | 李四光 | 男   | 1999-08-11 | 170807 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">mysql&gt; select * from student where sname not like(&quot;李%&quot;);</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1001 | 张三   | 男   | 1999-08-19 | 170807 |</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1004 | 郑楠   | 男   | 1999-11-16 | 170807 |</span><br><span class="line">| 1005 | 吴昕   | 女   | 1999-09-09 | 170807 |</span><br><span class="line">| 1006 | 赵四   | 男   | 1999-01-05 | 170808 |</span><br><span class="line">| 1009 | 雷达   | 男   | 1999-05-02 | 170807 |</span><br><span class="line">| 1010 | 苏伟文 | 男   | 1999-06-17 | 170808 |</span><br><span class="line">| 1011 | 严格   | 男   | 1999-10-01 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br></pre></td></tr></table></figure>



<h5 id="39、查询学生表中每个学生的姓名和年龄-year-sbirth-year-now"><a href="#39、查询学生表中每个学生的姓名和年龄-year-sbirth-year-now" class="headerlink" title="39、查询学生表中每个学生的姓名和年龄 year(sbirth) year(now())"></a>39、查询学生表中每个学生的姓名和年龄 year(sbirth) year(now())</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sname,year(now())-year(sbirth) as age from student;</span><br><span class="line">+--------+------+</span><br><span class="line">| sname  | age  |</span><br><span class="line">+--------+------+</span><br><span class="line">| 张三   |   21 |</span><br><span class="line">| 李博   |   21 |</span><br><span class="line">| 王小华 |   22 |</span><br><span class="line">| 郑楠   |   21 |</span><br><span class="line">| 吴昕   |   21 |</span><br><span class="line">| 赵四   |   21 |</span><br><span class="line">| 李丽   |   21 |</span><br><span class="line">| 李四光 |   21 |</span><br><span class="line">| 雷达   |   21 |</span><br><span class="line">| 苏伟文 |   21 |</span><br><span class="line">| 严格   |   21 |</span><br><span class="line">+--------+------+</span><br></pre></td></tr></table></figure>


<h5 id="40、查询学生表中年龄最大和最小的学生的姓名和生日-max-min"><a href="#40、查询学生表中年龄最大和最小的学生的姓名和生日-max-min" class="headerlink" title="40、查询学生表中年龄最大和最小的学生的姓名和生日 max() min()"></a>40、查询学生表中年龄最大和最小的学生的姓名和生日 max() min()</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from student where sbirth in(select min(sbirth) as maxage from student);</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">mysql&gt; select *from student where sbirth in(select max(sbirth) as maxage from student);</span><br><span class="line">+------+-------+------+------------+--------+</span><br><span class="line">| sno  | sname | ssex | sbirth     | class  |</span><br><span class="line">+------+-------+------+------------+--------+</span><br><span class="line">| 1007 | 李丽  | 女   | 1999-12-01 | 170808 |</span><br><span class="line">+------+-------+------+------------+--------+</span><br><span class="line">​mysql&gt; select *from student where sbirth in(select min(sbirth) as maxage from student) union select *from student where sbirth in(select max(sbirth) as maxage from student);</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| sno  | sname  | ssex | sbirth     | class  |</span><br><span class="line">+------+--------+------+------------+--------+</span><br><span class="line">| 1003 | 王小华 | 女   | 1998-03-12 | 170808 |</span><br><span class="line">| 1007 | 李丽   | 女   | 1999-12-01 | 170808 |</span><br><span class="line">+------+--------+------+------------+--------+</span><br></pre></td></tr></table></figure>


<h5 id="41、查询所有选择计算机概论的女同学的姓名和成绩"><a href="#41、查询所有选择计算机概论的女同学的姓名和成绩" class="headerlink" title="41、查询所有选择计算机概论的女同学的姓名和成绩"></a>41、查询所有选择计算机概论的女同学的姓名和成绩</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sname,cname,degree from student,course,score,teacher where student.sno&#x3D;score.sno and course.cno&#x3D;score.cno and course.tno&#x3D;teacher.tno and course.cname&#x3D;&quot;计算机概论&quot; and ssex&#x3D;&quot;女&quot;;</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| sname  | cname      | degree |</span><br><span class="line">+--------+------------+--------+</span><br><span class="line">| 王小华 | 计算机概论 |     80 |</span><br><span class="line">| 吴昕   | 计算机概论 |     65 |</span><br><span class="line">| 李丽   | 计算机概论 |     60 |</span><br><span class="line">+--------+------------+--------+</span><br></pre></td></tr></table></figure>


<h5 id="42、查询成绩表和等级表并进行成绩分级"><a href="#42、查询成绩表和等级表并进行成绩分级" class="headerlink" title="42、查询成绩表和等级表并进行成绩分级"></a>42、查询成绩表和等级表并进行成绩分级</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sno,cno,degree,grade from score,grade where degree between upp and low;</span><br><span class="line">+------+------+--------+-------+</span><br><span class="line">| sno  | cno  | degree | grade |</span><br><span class="line">+------+------+--------+-------+</span><br><span class="line">| 1001 | c001 |     86 | B     |</span><br><span class="line">| 1001 | c002 |     87 | B     |</span><br><span class="line">| 1001 | c004 |     66 | D     |</span><br><span class="line">| 1002 | c001 |     90 | A     |</span><br><span class="line">| 1003 | c001 |     77 | C     |</span><br><span class="line">| 1003 | c002 |     91 | A     |</span><br><span class="line">| 1003 | c003 |     80 | B     |</span><br><span class="line">| 1004 | c001 |     65 | D     |</span><br><span class="line">| 1004 | c004 |     70 | C     |</span><br><span class="line">| 1005 | c001 |     45 | E     |</span><br><span class="line">| 1005 | c003 |     65 | D     |</span><br><span class="line">| 1005 | c004 |     68 | D     |</span><br><span class="line">| 1006 | c001 |     67 | D     |</span><br><span class="line">| 1006 | c002 |     46 | E     |</span><br><span class="line">| 1006 | c003 |     61 | D     |</span><br><span class="line">| 1007 | c001 |     78 | C     |</span><br><span class="line">| 1007 | c003 |     60 | D     |</span><br><span class="line">| 1007 | c004 |     62 | D     |</span><br><span class="line">| 1008 | c001 |     90 | A     |</span><br><span class="line">| 1008 | c003 |     60 | D     |</span><br><span class="line">| 1009 | c001 |     55 | E     |</span><br><span class="line">| 1009 | c004 |     89 | B     |</span><br><span class="line">| 1010 | c001 |     60 | D     |</span><br><span class="line">| 1010 | c003 |     94 | A     |</span><br><span class="line">| 1010 | c004 |     82 | B     |</span><br><span class="line">| 1011 | c001 |     69 | D     |</span><br><span class="line">| 1011 | c003 |     79 | C     |</span><br><span class="line">| 1011 | c004 |     69 | D     |</span><br><span class="line">+------+------+--------+-------+</span><br></pre></td></tr></table></figure>
<h3 id="5、连接查询"><a href="#5、连接查询" class="headerlink" title="5、连接查询"></a>5、连接查询</h3><h4 id="5-1、建表-没有外键和主键"><a href="#5-1、建表-没有外键和主键" class="headerlink" title="5.1、建表 没有外键和主键"></a>5.1、建表 没有外键和主键</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">create table person(</span><br><span class="line">id int,</span><br><span class="line">name varchar(20),</span><br><span class="line">card_id int</span><br><span class="line">);</span><br><span class="line">create table card(</span><br><span class="line">id int,</span><br><span class="line">name varchar(20)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="5-2、插入数据"><a href="#5-2、插入数据" class="headerlink" title="5.2、插入数据"></a>5.2、插入数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">insert into card values(1,&quot;饭卡&quot;);</span><br><span class="line">insert into card values(2,&quot;建行卡&quot;);</span><br><span class="line">insert into card values(3,&quot;农行卡&quot;);</span><br><span class="line">insert into card values(4,&quot;工商卡&quot;);</span><br><span class="line">insert into card values(5,&quot;邮政卡&quot;);</span><br><span class="line">insert into person values(1,&quot;张三&quot;,1);</span><br><span class="line">insert into person values(2,&quot;李四&quot;,3);</span><br><span class="line">insert into person values(3,&quot;王五&quot;,6);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="5-3、内连接查询：inner-join-join"><a href="#5-3、内连接查询：inner-join-join" class="headerlink" title="5.3、内连接查询：inner join || join"></a>5.3、内连接查询：inner join || join</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#通过某个相应的字段，查询出相关的记录</span><br><span class="line">mysql&gt; select *from person join card on person.card_id&#x3D;card.id;</span><br><span class="line">+------+------+---------+------+--------+</span><br><span class="line">| id   | name | card_id | id   | name   |</span><br><span class="line">+------+------+---------+------+--------+</span><br><span class="line">|    1 | 张三 |       1 |    1 | 饭卡   |</span><br><span class="line">|    2 | 李四 |       3 |    3 | 农行卡 |</span><br><span class="line">+------+------+---------+------+--------+</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="5-4、外连接查询"><a href="#5-4、外连接查询" class="headerlink" title="5.4、外连接查询"></a>5.4、外连接查询</h4><h5 id="5-4-1、左连接-left-join-left-outer-join-（交集-左子集）"><a href="#5-4-1、左连接-left-join-left-outer-join-（交集-左子集）" class="headerlink" title="5.4.1、左连接 left join || left outer join （交集+左子集）"></a>5.4.1、左连接 left join || left outer join （交集+左子集）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#会把左边表person中的所有数据取出来，如果右边表card中有相应的数据就显示出来，没有就为null</span><br><span class="line">mysql&gt; select *from person left join card on person.card_id&#x3D;[card.id](http:&#x2F;&#x2F;card.id&#x2F;);</span><br><span class="line">+------+------+---------+------+--------+</span><br><span class="line">| id   | name | card_id | id   | name   |</span><br><span class="line">+------+------+---------+------+--------+</span><br><span class="line">|    1 | 张三 |       1 |    1 | 饭卡   |</span><br><span class="line">|    2 | 李四 |       3 |    3 | 农行卡 |</span><br><span class="line">|    3 | 王五 |       6 | NULL | NULL   |</span><br><span class="line">+------+------+---------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="5-4-2、右连接-right-join-right-outer-join-（交集-右子集）"><a href="#5-4-2、右连接-right-join-right-outer-join-（交集-右子集）" class="headerlink" title="5.4.2、右连接 right join || right outer join （交集+右子集）"></a>5.4.2、右连接 right join || right outer join （交集+右子集）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#会把右边表card中的所有数据取出来，如果左边表person中有相应的数据就显示出来，内有就为null</span><br><span class="line">mysql&gt; select *from person right join card on person.card_id&#x3D;[card.id](http:&#x2F;&#x2F;card.id&#x2F;);</span><br><span class="line">+------+------+---------+------+--------+</span><br><span class="line">| id   | name | card_id | id   | name   |</span><br><span class="line">+------+------+---------+------+--------+</span><br><span class="line">|    1 | 张三 |       1 |    1 | 饭卡   |</span><br><span class="line">| NULL | NULL |    NULL |    2 | 建行卡 |</span><br><span class="line">|    2 | 李四 |       3 |    3 | 农行卡 |</span><br><span class="line">| NULL | NULL |    NULL |    4 | 工商卡 |</span><br><span class="line">| NULL | NULL |    NULL |    5 | 邮政卡 |</span><br><span class="line">+------+------+---------+------+--------+</span><br></pre></td></tr></table></figure>
<h5 id="5-4-3、完全外连接-full-join-full-outer-join-（mysql不支持full-join-可以用union-代替）（并集）"><a href="#5-4-3、完全外连接-full-join-full-outer-join-（mysql不支持full-join-可以用union-代替）（并集）" class="headerlink" title="5.4.3、完全外连接 full join || full outer join （mysql不支持full join 可以用union 代替）（并集）"></a>5.4.3、完全外连接 full join || full outer join （mysql不支持full join 可以用union 代替）（并集）</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from person left join card on person.card_id&#x3D;[card.id](http:&#x2F;&#x2F;card.id&#x2F;) union select *from person right join card on person.card_id&#x3D;[card.id](http:&#x2F;&#x2F;card.id&#x2F;);</span><br><span class="line">+------+------+---------+------+--------+</span><br><span class="line">| id   | name | card_id | id   | name   |</span><br><span class="line">+------+------+---------+------+--------+</span><br><span class="line">|    1 | 张三 |       1 |    1 | 饭卡   |</span><br><span class="line">|    2 | 李四 |       3 |    3 | 农行卡 |</span><br><span class="line">|    3 | 王五 |       6 | NULL | NULL   |</span><br><span class="line">| NULL | NULL |    NULL |    2 | 建行卡 |</span><br><span class="line">| NULL | NULL |    NULL |    4 | 工商卡 |</span><br><span class="line">| NULL | NULL |    NULL |    5 | 邮政卡 |</span><br><span class="line">+------+------+---------+------+--------+</span><br></pre></td></tr></table></figure>


<h2 id="8、事务"><a href="#8、事务" class="headerlink" title="8、事务"></a>8、事务</h2><p>最小的不可分割的工作单元，能保证一个业务的完整性 </p>
<p>@@autocommit= 1;  自动提交（默认） </p>
<p>@@autocommit= 0;  设置手动提交</p>
<ul>
<li><p>@@autocommit= 0; ||begin； || start transaction；可以手动开启事务；commit 提交 roolback 回滚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from user;</span><br><span class="line">+----+----------+-------+</span><br><span class="line">| id | name     | money |</span><br><span class="line">+----+----------+-------+</span><br><span class="line">|  1 | zhangsan |   600 |</span><br><span class="line">|  2 | lisi     |  1200 |</span><br><span class="line">+----+----------+-------+</span><br><span class="line">begin;</span><br><span class="line">update user set money&#x3D;money-100 where id&#x3D;1;</span><br><span class="line">update user set money&#x3D;money+100 where id&#x3D;2;</span><br><span class="line">mysql&gt; select *from user;</span><br><span class="line">+----+----------+-------+</span><br><span class="line">| id | name     | money |</span><br><span class="line">+----+----------+-------+</span><br><span class="line">|  1 | zhangsan |   500 |</span><br><span class="line">|  2 | lisi     |  1300 |</span><br><span class="line">+----+----------+-------+</span><br><span class="line">mysql&gt; rollback;</span><br><span class="line">mysql&gt; select *from user;</span><br><span class="line">+----+----------+-------+</span><br><span class="line">| id | name     | money |</span><br><span class="line">+----+----------+-------+</span><br><span class="line">|  1 | zhangsan |   600 |</span><br><span class="line">|  2 | lisi     |  1200 |</span><br><span class="line">+----+----------+-------+</span><br><span class="line">begin;</span><br><span class="line">update user set money&#x3D;money-100 where id&#x3D;1;</span><br><span class="line">update user set money&#x3D;money+100 where id&#x3D;2;</span><br><span class="line">mysql&gt; commit; 提交</span><br><span class="line">mysql&gt; select *from user;</span><br><span class="line">+----+----------+-------+</span><br><span class="line">| id | name     | money |</span><br><span class="line">+----+----------+-------+</span><br><span class="line">|  1 | zhangsan |   500 |</span><br><span class="line">|  2 | lisi     |  1300 |</span><br><span class="line">+----+----------+-------+</span><br></pre></td></tr></table></figure>
<h3 id="事物的特征-ACID"><a href="#事物的特征-ACID" class="headerlink" title="事物的特征 ACID"></a>事物的特征 ACID</h3></li>
</ul>
<p>A：原子性：事物的最小单位，不可再分隔，事务要求，同一事务中的sql语句，必须保证同时成功或者同时失败 </p>
<p>C：一致性：事务开始前和结束后，数据库的完整性约束没有被破坏 。 </p>
<p>I：隔离性：同一时间，只允许一个事务请求同一数据，不同的事务之间彼此没有任何干扰。事务一和事务二之间是具有隔离性的（脏读，不可重复读，幻读）</p>
<p>D：持久性：事务完成后，事务对数据库的所有更新将被保存到数据库，不能回滚。事务一旦结束（commit，roolback），就不可以回滚</p>
<h3 id="事务未隔离会出现的情况"><a href="#事务未隔离会出现的情况" class="headerlink" title="事务未隔离会出现的情况"></a>事务未隔离会出现的情况</h3><p><strong>脏读</strong>：一个未提交事务读取到另一个未提交事务的数据</p>
<p>​    事务A读取了事务B更新的未提交数据，然后B回滚操作，那么A读取到的数据是脏数据<br>​    eg：A有1000，B有1000， A转账给B 100，两人都开起了事务，但A没有提交，B读到了1100，以为收到了100，A回滚又变回1000</p>
<p><strong>不可重复读</strong>：一个未提交事务读取到另一提交事务修改数据</p>
<p>​    事务 A 多次读取同一数据，事务 B 在事务A多次读取的过程中，对数据作了更新并提交，导致事务A多次读取同一数据时，结果 不一致。</p>
<p><strong>虚读</strong>：一个未提交事务读取到另一提交事务添加数据</p>
<p>​    幻读：系统管理员A将数据库中所有学生的成绩从具体分数改为ABCDE等级，但是系统管理员B就在这个时候插入了一条具体分数的记录，当系统管理员A改结束    后发现还有一条记录没有改过来，就好像发生了幻觉一样，这就叫幻读。</p>
<h2 id="9、索引"><a href="#9、索引" class="headerlink" title="9、索引"></a>9、索引</h2><p>索引是对数据库表中的一列或多列的值进行排序的一种结构，使用索引可以快速访问数据库表中的特定的信息。ex：如果把数据库中的某一张看成一本书，那么索引就像是书的目录，可以通过目录快速查找书中指定内容的位置，对于数据库表来说，可以通过索引快速查找表中的数据。</p>
<h3 id="索引的原理"><a href="#索引的原理" class="headerlink" title="索引的原理"></a>索引的原理</h3><p>索引一般以文件形式存在磁盘中（内存中），存储的索引的原理大致概括为以空间换时间，数据库在未添加索引的时候进行查询默认的是进行全量搜索，也就是进行全局扫描，有多少条数据就要进行多少次查询，然后找到相匹配的数据就把他放到结果集中，直到全表扫描完。而建立索引之后，会将建立索引的KEY值放在一个n叉树上（BTree）。因为B树的特点就是适合在磁盘等直接存储设备上组织动态查找表，每次以索引进行条件查询时，会去树上根据key值直接进行搜索。</p>
<h3 id="B树和B-树"><a href="#B树和B-树" class="headerlink" title="B树和B+树"></a>B树和B+树</h3><p><img src="https://api2.mubu.com/v3/document_image/b5f1dfce-e161-4f31-9b10-0612e58ea087-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/d6b35804-3e47-4ecb-b116-46cce5cff213-7965385.jpg" alt="img"></p>
<p>B树说明：</p>
<p>B树的阶：节点的最多子节点个数。比如2-3树的阶是3，2-3-4树的阶是4</p>
<p>B-树的搜索，从根结点开始，对结点内的关键字（有序）序列进行二分查找，如果命中则结束，否则进入查询关键字所属范围的儿子结点；重复，直到所对应的儿子指针为空，或已经是叶子结点</p>
<p>关键字集合分布在整颗树中, 即叶子节点和非叶子节点都存放数据.</p>
<p>搜索有可能在非叶子结点结束</p>
<p>其搜索性能等价于在关键字全集内做一次二分查找</p>
<p>B+树</p>
<p><img src="https://api2.mubu.com/v3/document_image/10febf30-f32b-40bf-9076-905f677cbe59-7965385.jpg" alt="img"></p>
<p>B+树的说明:</p>
<p>B+树的搜索与B树也基本相同，区别是B+树只有达到叶子结点才命中（B树可以在非叶子结点命中），其性能也等价于在关键字全集做一次二分查找</p>
<p>所有关键字都出现在叶子结点的链表中（即数据只能在叶子节点【也叫稠密索引】），且链表中的关键字(数据)恰好是有序的。</p>
<p>不可能在非叶子结点命中</p>
<p>非叶子结点相当于是叶子结点的索引（稀疏索引），叶子结点相当于是存储（关键字）数据的数据层</p>
<p>更适合文件索引系统</p>
<p>B树和B+树各有自己的应用场景，不能说B+树完全比B树好，反之亦然.</p>
<h3 id="索引的优缺点"><a href="#索引的优缺点" class="headerlink" title="索引的优缺点"></a>索引的优缺点</h3><p>索引的优点：建立索引的目的是加快对表中记录的查找或排序！</p>
<p>1、建立索引的列可以保证行的唯一性，生成唯一的rowId</p>
<p>2、建立索引可以有效缩短数据的检索时间</p>
<p>3、 建立索引可以加快表与表之间的连接</p>
<p>4、为用来排序或者是分组的字段添加索引可以加快分组和排序顺序</p>
<p>索引的缺点</p>
<p>1、创建索引和维护索引需要时间成本，这个成本随着数据量的增加而加大</p>
<p>2、创建索引和维护索引需要空间成本，每一条索引都要占据数据库的物理存储空间，数据量越大，占用空间也越大（数据表占据的是数据库的数据空间）</p>
<p>3、会降低表的增删改的效率，因为每次增删改索引需要进行动态维护，导致时间变长</p>
<p>使用场景：数据库中表的数据量较大的情况下，对于查询响应的时间不能满足业务需求，可以合理的使用索引提升查询效率</p>
<h3 id="索引的分类和创建、修改等命令"><a href="#索引的分类和创建、修改等命令" class="headerlink" title="索引的分类和创建、修改等命令"></a>索引的分类和创建、修改等命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">创建语句：CREATE TABLE table_name[col_name data type][unique|fulltext][index|key][index_name](col_name[length])[asc|desc]</span><br><span class="line">unique|fulltext为可选参数，分别表示唯一索引、全文索引</span><br><span class="line">index和key为同义词，两者作用相同，用来指定创建索引</span><br><span class="line">col_name为需要创建索引的字段列，该列必须从数据表中该定义的多个列中选择</span><br><span class="line">index_name指定索引的名称，为可选参数，如果不指定，默认col_name为索引值</span><br><span class="line">length为可选参数，表示索引的长度，只有字符串类型的字段才能指定索引长度</span><br><span class="line">asc或desc指定升序或降序的索引值存储</span><br></pre></td></tr></table></figure>
<h4 id="1、普通索引（单列索引）："><a href="#1、普通索引（单列索引）：" class="headerlink" title="1、普通索引（单列索引）："></a>1、普通索引（单列索引）：</h4><p>单列索引是最基本的索引，他没有任何限制。</p>
<p>1、直接创建索引<img src="https://api2.mubu.com/v3/document_image/fbf41174-e944-4f7d-b1d7-fa710f26f271-7965385.jpg" alt="img"></p>
<p>2、修改表结构的方式添加索引<img src="https://api2.mubu.com/v3/document_image/fc3a9789-9301-48d4-a950-5bdcbb26cbfa-7965385.jpg" alt="img"></p>
<p>创建表的同时创建索引<img src="https://api2.mubu.com/v3/document_image/3cbdc97d-214e-4a95-a04b-b3e506e8f6e9-7965385.jpg" alt="img"></p>
<p>删除索引<img src="https://api2.mubu.com/v3/document_image/52cebd31-a187-4320-8fab-e5285dafc5f3-7965385.jpg" alt="img"></p>
<h4 id="2、复合索引（组合索引）："><a href="#2、复合索引（组合索引）：" class="headerlink" title="2、复合索引（组合索引）："></a>2、复合索引（组合索引）：</h4><p>复合索引是在多个字段上创建的索引。复合索引遵守“最左前缀”原则，即在查询条件中使用了复合索引的第一个字段，索引才会被使用。因此，在复合索引中索引列的顺序至关重要。</p>
<p>创建一个复合索引<img src="https://api2.mubu.com/v3/document_image/96ecbd8b-4cad-45c5-83b7-e5eb186e7ee4-7965385.jpg" alt="img"></p>
<p>修改表结构的方式添加索引<img src="https://api2.mubu.com/v3/document_image/30fd3bfe-beb8-48c1-8a1d-300f036a2350-7965385.jpg" alt="img"></p>
<h4 id="3、唯一索引："><a href="#3、唯一索引：" class="headerlink" title="3、唯一索引："></a>3、唯一索引：</h4><p>唯一索引和普通索引类似，主要的区别在于，唯一索引限制列的值必须唯一，但允许存在空值（只允许存在一条空值）</p>
<p>1、如果在已经有数据的表上添加唯一索引的话</p>
<p>如果添加索引的列的值存在两个或者两个以上的空值，则不能创建唯一性索引会失败。（一般在创建表的时候，要对自动设置唯一性索引，需要在字段上加上 not null）</p>
<p>如果添加索引的列的值存在两个或者两个以上的null值，还是可以创建唯一性索引，只是后面创建的数据不能再插入null值 ，并且严格意义上此列并不是唯一的，因为存在多个null值。</p>
<p>2、对于多个字段创建唯一索引规定列值的组合必须唯一</p>
<p>在order表创建orderId字段和 productId字段 的唯一性索引，那么这两列的组合值必须唯一！</p>
<p>创建唯一索引<img src="https://api2.mubu.com/v3/document_image/a9df0881-21aa-41f3-a940-1e6625ee1c95-7965385.jpg" alt="img"></p>
<p>修改表结构的方式添加索引<img src="https://api2.mubu.com/v3/document_image/3e9e4c8c-1859-49e0-843f-369b32ef4513-7965385.jpg" alt="img"></p>
<p>创建表的时候直接指定索引<img src="https://api2.mubu.com/v3/document_image/f27ad8a1-d62a-49af-83fa-4975a5f9becb-7965385.jpg" alt="img"></p>
<h4 id="4、主键索引："><a href="#4、主键索引：" class="headerlink" title="4、主键索引："></a>4、主键索引：</h4><p>主键索引是一种特殊的唯一索引，一个表只能有一个主键，不允许有空值。一般是在建表的时候同时创建主键索引</p>
<p>创建标的时候添加索引（默认情况）<img src="https://api2.mubu.com/v3/document_image/6eb4d22b-4fbb-4f8c-bc0a-0d25153cbc20-7965385.jpg" alt="img"></p>
<p>修改表的形式添加索引<img src="https://api2.mubu.com/v3/document_image/f2cd9627-54a5-4216-a69a-83ee724e4a13-7965385.jpg" alt="img"></p>
<h4 id="5、全文索引"><a href="#5、全文索引" class="headerlink" title="5、全文索引"></a>5、全文索引</h4><p>==注意： 默认 MySQL 不支持中文全文检索！==<br>MySQL 全文搜索只是一个临时方案，对于全文搜索场景，更专业的做法是使用全文搜索引擎，例如 ElasticSearch 或 Solr。</p>
<p>在一般情况下，模糊查询都是通过 like 的方式进行查询。但是，对于海量数据，这并不是一个好办法，在 like “value%” 可以使用索引，但是对于 like “%value%” 这样的方式，执行全表查询，这在数据量小的表，不存在性能问题，但是对于海量数据，全表扫描是非常可怕的事情,所以 like 进行模糊匹配性能很差。</p>
<p>这种情况下，需要考虑使用全文搜索的方式进行优化。全文搜索在 MySQL 中是一个 FULLTEXT 类型索引。FULLTEXT 索引在 MySQL 5.6 版本之后支持 InnoDB，而之前的版本只支持 MyISAM 表。</p>
<p>全文索引主要用来查找文本中的关键字，而不是直接与索引中的值相比较。fulltext索引跟其它索引大不相同，它更像是一个搜索引擎，而不是简单的where语句的参数匹配。fulltext索引配合match against操作使用，而不是一般的where语句加like。目前只有char、varchar，text 列上可以创建全文索引。</p>
<p>小技巧：在数据量较大时候，先将数据放入一个没有全局索引的表中，然后再用CREATE index创建fulltext索引，要比先为一张表建立fulltext然后再将数据写入的速度快很多。</p>
<p>创建表的时候添加全文索引<img src="https://api2.mubu.com/v3/document_image/445cbff3-bbef-4873-aa4b-7f2590c7b069-7965385.jpg" alt="img"></p>
<p>修改表结构的方式添加全文索引<img src="https://api2.mubu.com/v3/document_image/641e9462-ccbf-4c71-bee2-6ada907f9b5f-7965385.jpg" alt="img"></p>
<p>直接创建全文索引<img src="https://api2.mubu.com/v3/document_image/b704637c-0709-4cfd-a02b-0613d356e99a-7965385.jpg" alt="img"></p>
<h3 id="索引的查询和删除"><a href="#索引的查询和删除" class="headerlink" title="索引的查询和删除"></a>索引的查询和删除</h3><p>MySQl的客户端工具也可以进索引的创建、查询和删除，如 Navicat Premium!</p>
<p><img src="https://api2.mubu.com/v3/document_image/b589102f-cd91-4e49-b7c4-d0e9fcc2f175-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/d943e4a7-6003-4312-a084-a445d91c94d5-7965385.jpg" alt="img"></p>
<p>例子演示</p>
<p>查看索引使用情况：show status like ‘Handler_read%’;<img src="https://api2.mubu.com/v3/document_image/ebd73b1d-5df8-4bea-9106-6b13d4c2f4e7-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/3c1c4db1-0d63-44f4-bd0f-9ee7e6ce3f9b-7965385.jpg" alt="img"></p>
<p>常见索引失效的情况：</p>
<p>创建一个studnet表：其中stud_id为主键！<img src="https://api2.mubu.com/v3/document_image/dcbcce04-5fd0-4eae-9675-8fd59c1b32a8-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/df47eb6a-6462-4851-850f-2c12648882e9-7965385.jpg" alt="img"><br>INSERT INTO <code>students</code> (<code>stud_id</code>, <code>name</code>, <code>email</code>, <code>phone</code>, <code>create_date</code>) VALUES (‘1’, ‘admin’, ‘student1@gmail.com’, ‘18729902095’, ‘1983-06-25’);<br>INSERT INTO <code>students</code> (<code>stud_id</code>, <code>name</code>, <code>email</code>, <code>phone</code>, <code>create_date</code>) VALUES (‘2’, ‘root’, ‘74298110186@qq.com’, ‘2’, ‘1983-12-25’);<br>INSERT INTO <code>students</code> (<code>stud_id</code>, <code>name</code>, <code>email</code>, <code>phone</code>, <code>create_date</code>) VALUES (‘3’, ‘110’, ‘7429811086@qq.com’, ‘3dsad’, ‘2017-04-28’);</p>
<h3 id="explain使用"><a href="#explain使用" class="headerlink" title="explain使用"></a>explain使用</h3><p>1<img src="https://api2.mubu.com/v3/document_image/7969898c-a01b-4523-bdc2-e32a19bfd302-7965385.jpg" alt="img"></p>
<h4 id="字段介绍"><a href="#字段介绍" class="headerlink" title="字段介绍"></a>字段介绍</h4><p><strong>id：SELECT识别符。这是SELECT的查询序列号，表示查询中执行select子句或操作表的顺序</strong></p>
<ul>
<li>select_type：SELECT类型,可以为以下任何一种</li>
<li>SIMPLE：简单SELECT(不使用UNION或子查询)</li>
<li>PRIMARY：最外面的SELECT</li>
<li>UNION：UNION中的第二个或后面的SELECT语句</li>
<li>DEPENDENT UNION：UNION中的第二个或后面的SELECT语句,取决于外面的查询</li>
<li>UNION RESULT：UNION 的结果</li>
<li>SUBQUERY：子查询中的第一个SELECT</li>
<li>DEPENDENT SUBQUERY：子查询中的第一个SELECT,取决于外面的查询</li>
<li>DERIVED：导出表的SELECT(FROM子句的子查询)</li>
</ul>
<p><strong>table：输出的行所引用的表</strong></p>
<p><strong>type：联接类型。下面给出各种联接类型,按照从最佳类型到最坏类型进行排序</strong></p>
<ul>
<li>system：表仅有一行(=系统表)。这是const联接类型的一个特例。</li>
<li>const：表最多有一个匹配行,它将在查询开始时被读取。因为仅有一行,在这行的列值可被优化器剩余部分认为是常数。const表很快,因为它们只读取一次!</li>
<li>eq_ref：对于每个来自于前面的表的行组合,从该表中读取一行。这可能是最好的联接类型,除了const类型。</li>
<li>ref：对于每个来自于前面的表的行组合,所有有匹配索引值的行将从这张表中读取。</li>
<li>ref_or_null：该联接类型如同ref,但是添加了MySQL可以专门搜索包含NULL值的行。</li>
<li>index_merge：该联接类型表示使用了索引合并优化方法。</li>
<li>unique_subquery：该类型替换了下面形式的IN子查询的ref: value IN (SELECT primary_key FROM single_table WHERE some_expr) unique_subquery是一个索引查找函数,可以完全替换子查询,效率更高。</li>
<li>index_subquery：该联接类型类似于unique_subquery。可以替换IN子查询,但只适合下列形式的子查询中的非唯一索引: value IN (SELECT key_column FROM single_table WHERE some_expr)</li>
<li>range：只检索给定范围的行,使用一个索引来选择行。</li>
<li>index：该联接类型与ALL相同,除了只有索引树被扫描。这通常比ALL快,因为索引文件通常比数据文件小。</li>
<li>ALL：对于每个来自于先前的表的行组合,进行完整的表扫描。</li>
</ul>
<p><strong>possible_key：指出mysql能使用那个索引在表中找到记录，查询涉及到的字段上若存在索引，则该索引将被列出，但不要一定被查询使用</strong></p>
<p><strong>key：显示mysql在查询中实际使用的索引，若没有使用索引，则显示为null</strong></p>
<p><strong>key_len：表示索引中使用的字节数，可通过该列计算查询中使用的索引的长度(key_len显示的值为索引字段的最大可能长度，并非实际使用长度，即key_len是根据表的定义计算得到，不是通过表内检索出的)</strong></p>
<p><strong>ref：表示上述表的连接匹配条件，即那些列或常量被用于查找索引列上的值</strong></p>
<p><strong>rows：雄安是mysql认为他执行查询时必须检查的行数，多行之间的数据相乘可以估算要处理的行数</strong></p>
<p><strong>filtered：显示了通过条件过滤出的行数的百分比估计值</strong></p>
<p><strong>extra：包含mysql解决查询的详细信息</strong></p>
<ul>
<li>Distinct：MySQL发现第1个匹配行后,停止为当前的行组合搜索更多的行。</li>
<li>Not exists：MySQL能够对查询进行LEFT JOIN优化,发现1个匹配LEFT JOIN标准的行后,不再为前面的的行组合在该表内检查更多的行。</li>
<li>range checked for each record (index map: #):MySQL没有发现好的可以使用的索引,但发现如果来自前面的表的列值已知,可能部分索引可以使用。</li>
<li>Using filesort：MySQL需要额外的一次传递,以找出如何按排序顺序检索行。</li>
<li>Using index：从只使用索引树中的信息而不需要进一步搜索读取实际的行来检索表中的列信息。</li>
<li>Using temporary：为了解决查询,MySQL需要创建一个临时表来容纳结果。</li>
<li>Using where:WHERE 子句用于限制哪一个行匹配下一个表或发送到客户。</li>
<li>Using sort_union(…), Using union(…), Using intersect(…):这些函数说明如何为index_merge联接类型合并索引扫描。</li>
<li>Using index for group-by：类似于访问表的Using index方式,Using index for group-by表示MySQL发现了一个索引,可以用来查 询GROUP BY或DISTINCT查询的所有列,而不要额外搜索硬盘访问实际的表</li>
</ul>
<h3 id="索引失效"><a href="#索引失效" class="headerlink" title="索引失效"></a>索引失效</h3><h4 id="1、在where后使用or，导致索引失效（尽量少使用or）"><a href="#1、在where后使用or，导致索引失效（尽量少使用or）" class="headerlink" title="1、在where后使用or，导致索引失效（尽量少使用or）"></a>1、在where后使用or，导致索引失效（尽量少使用or）</h4><p>演示：创建两个普通索引<img src="https://api2.mubu.com/v3/document_image/57ced790-4bca-4a91-bfff-13d72ec45697-7965385.jpg" alt="img"></p>
<p>使用下面sql查询<img src="https://api2.mubu.com/v3/document_image/361532b1-6b31-4f4f-96ac-993ed0cf5224-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/023289f1-ba49-4815-a6a5-5c2ad9cf05f7-7965385.jpg" alt="img"></p>
<h4 id="2、使用like，like查询是以-开头"><a href="#2、使用like，like查询是以-开头" class="headerlink" title="2、使用like，like查询是以%开头"></a>2、使用like，like查询是以%开头</h4><p>在1、的基础上，还是使用index_name_email索引，使用下面的查询sql<img src="https://api2.mubu.com/v3/document_image/f4ac0241-94b4-4c4f-b89d-7d42c4a93321-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/3dd3f5e8-7192-4e43-b8bf-8d94da55fcd4-7965385.jpg" alt="img"></p>
<h4 id="3、复合索引遵守“最左前缀”原则，记载查询条件中使用了符合索引的第一个字段，索引才会被使用"><a href="#3、复合索引遵守“最左前缀”原则，记载查询条件中使用了符合索引的第一个字段，索引才会被使用" class="headerlink" title="3、复合索引遵守“最左前缀”原则，记载查询条件中使用了符合索引的第一个字段，索引才会被使用"></a>3、复合索引遵守“最左前缀”原则，记载查询条件中使用了符合索引的第一个字段，索引才会被使用</h4><p>删除1、的基础索引，重新创建一个复合索引<img src="https://api2.mubu.com/v3/document_image/46f18905-e25a-4dc7-b387-afeb28ca46fe-7965385.jpg" alt="img"></p>
<p>使用下面sql语句<img src="https://api2.mubu.com/v3/document_image/44cbd974-2f13-474c-b5ab-0e2bbb4bc5c9-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/cb2783e6-7a8d-40d8-b57f-f18cb603c410-7965385.jpg" alt="img"></p>
<h4 id="4、如果列类型是字符串，哪一定要在条件中将数据使用引号括起来，否则不使用索引"><a href="#4、如果列类型是字符串，哪一定要在条件中将数据使用引号括起来，否则不使用索引" class="headerlink" title="4、如果列类型是字符串，哪一定要在条件中将数据使用引号括起来，否则不使用索引"></a>4、如果列类型是字符串，哪一定要在条件中将数据使用引号括起来，否则不使用索引</h4><p>给name创建一个 索引<img src="https://api2.mubu.com/v3/document_image/20d2b93a-71d0-4185-bd30-e228273f6942-7965385.jpg" alt="img"></p>
<p>使用下面sql查询<img src="https://api2.mubu.com/v3/document_image/3d2e5b1b-1ef4-4a52-bf12-2e2f09749e6f-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/5409d0ae-64bf-4542-a0d0-e553f742a1e1-7965385.jpg" alt="img"></p>
<h4 id="5、使用in导致索引失效（实测并没有失效）"><a href="#5、使用in导致索引失效（实测并没有失效）" class="headerlink" title="5、使用in导致索引失效（实测并没有失效）"></a>5、使用in导致索引失效（实测并没有失效）</h4><p>使用下面sql查询<img src="https://api2.mubu.com/v3/document_image/4f67ea32-6750-4272-b121-97d4d25c0eed-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/3e5e16ee-f323-4760-bd35-ffaba913c5bd-7965385.jpg" alt="img"></p>
<h4 id="6、DATE-FORMAT-格式化时间，格式化后的时间再去比较，可能会导致索引失效"><a href="#6、DATE-FORMAT-格式化时间，格式化后的时间再去比较，可能会导致索引失效" class="headerlink" title="6、DATE_FORMAT()格式化时间，格式化后的时间再去比较，可能会导致索引失效"></a>6、DATE_FORMAT()格式化时间，格式化后的时间再去比较，可能会导致索引失效</h4><p>删除students上创建的索引！重新在create_data上创建一个索引<img src="https://api2.mubu.com/v3/document_image/7acbfe0f-cd31-4981-9b41-79509f14718b-7965385.jpg" alt="img"></p>
<p>使用下面sql语句<img src="https://api2.mubu.com/v3/document_image/f838d657-4907-47da-89d7-02e9d7f9407d-7965385.jpg" alt="img"><img src="https://api2.mubu.com/v3/document_image/344f4fb9-3794-4e1c-88f3-d926066bec9f-7965385.jpg" alt="img"></p>
<h4 id="7、对于order-by、group-by、union、distinc中的字段出现在where条件中时，才会利用索引"><a href="#7、对于order-by、group-by、union、distinc中的字段出现在where条件中时，才会利用索引" class="headerlink" title="7、对于order by、group by、union、distinc中的字段出现在where条件中时，才会利用索引"></a>7、对于order by、group by、union、distinc中的字段出现在where条件中时，才会利用索引</h4>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/MySql/" rel="tag"># MySql</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item"></div>
      <div class="post-nav-item">
    <a href="/2021/01/07/Hexo%E7%9A%84%E4%BD%BF%E7%94%A8/" rel="next" title="Hexo的使用">
      Hexo的使用 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81MySql%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.</span> <span class="nav-text">1、MySql数据类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="nav-number">2.</span> <span class="nav-text">2、数据库操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E8%A1%A8%E6%93%8D%E4%BD%9C"><span class="nav-number">3.</span> <span class="nav-text">3、表操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="nav-number">4.</span> <span class="nav-text">4、数据库的增删改查</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5%E3%80%81%E7%BA%A6%E6%9D%9F"><span class="nav-number">5.</span> <span class="nav-text">5、约束</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1%E3%80%81%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F%EF%BC%9Aprimary-key"><span class="nav-number">5.1.</span> <span class="nav-text">5.1、主键约束：primary key</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-1%E3%80%81%E8%81%94%E5%90%88%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F-primary-key-a-b"><span class="nav-number">5.1.1.</span> <span class="nav-text">5.1.1、联合主键约束 primary key(a,b)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-2%E3%80%81%E8%87%AA%E5%A2%9E%E7%BA%A6%E6%9D%9F-auto-increment-%E9%85%8D%E5%90%88%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F%E4%BD%BF%E7%94%A8"><span class="nav-number">5.1.2.</span> <span class="nav-text">5.1.2、自增约束 auto_increment 配合主键约束使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="nav-number">5.1.3.</span> <span class="nav-text">主键约束的增删改</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2%E3%80%81%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%EF%BC%9Aunique"><span class="nav-number">5.2.</span> <span class="nav-text">5.2、唯一约束：unique</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="nav-number">5.2.1.</span> <span class="nav-text">唯一约束增删改</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3%E3%80%81%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%EF%BC%9Anot-null"><span class="nav-number">5.3.</span> <span class="nav-text">5.3、非空约束：not null</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="nav-number">5.3.1.</span> <span class="nav-text">非空约束增删改</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4%E3%80%81%E9%BB%98%E8%AE%A4%E7%BA%A6%E6%9D%9F%EF%BC%9Adefault"><span class="nav-number">5.4.</span> <span class="nav-text">5.4、默认约束：default</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E7%BA%A6%E6%9D%9F%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="nav-number">5.4.1.</span> <span class="nav-text">默认约束增删改</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5%E3%80%81%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F%EF%BC%9Aforeign-key%E2%80%A6%E2%80%A6references%E2%80%A6%E2%80%A6"><span class="nav-number">5.5.</span> <span class="nav-text">5.5、外键约束：foreign key……references……</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#class%E8%A1%A8%EF%BC%9A%E4%B8%BB%E8%A1%A8"><span class="nav-number">5.5.1.</span> <span class="nav-text">class表：主表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#student%E8%A1%A8%EF%BC%9A%E5%89%AF%E8%A1%A8"><span class="nav-number">5.5.2.</span> <span class="nav-text">student表：副表</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6%E3%80%81%E8%8C%83%E5%BC%8F"><span class="nav-number">6.</span> <span class="nav-text">6、范式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F%EF%BC%9A1NF"><span class="nav-number">6.1.</span> <span class="nav-text">第一范式：1NF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F%EF%BC%9A2NF"><span class="nav-number">6.2.</span> <span class="nav-text">第二范式：2NF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%9A3NF"><span class="nav-number">6.3.</span> <span class="nav-text">第三范式：3NF</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7%E3%80%81%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0"><span class="nav-number">7.</span> <span class="nav-text">7、查询练习</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E5%BB%BA%E8%A1%A8"><span class="nav-number">7.1.</span> <span class="nav-text">1、建表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%A6%E7%94%9F%E8%A1%A8"><span class="nav-number">7.1.1.</span> <span class="nav-text">学生表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%99%E5%B8%88%E8%A1%A8"><span class="nav-number">7.1.2.</span> <span class="nav-text">教师表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BE%E7%A8%8B%E8%A1%A8"><span class="nav-number">7.1.3.</span> <span class="nav-text">课程表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%90%E7%BB%A9%E8%A1%A8"><span class="nav-number">7.1.4.</span> <span class="nav-text">成绩表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%88%90%E7%BB%A9%E5%88%86%E6%AE%B5%E8%A1%A8"><span class="nav-number">7.1.5.</span> <span class="nav-text">成绩分段表</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-number">7.2.</span> <span class="nav-text">2、插入数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E6%9F%A5%E7%9C%8B%E8%A1%A8%E5%86%85%E5%AE%B9"><span class="nav-number">7.3.</span> <span class="nav-text">3、查看表内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E6%9F%A5%E8%AF%A2%E7%BB%83%E4%B9%A0"><span class="nav-number">7.4.</span> <span class="nav-text">4、查询练习</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%E3%80%81%E6%9F%A5%E8%AF%A2student%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E8%AE%B0%E5%BD%95"><span class="nav-number">7.4.0.1.</span> <span class="nav-text">1、查询student表中的所有记录</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%E3%80%81%E6%9F%A5%E8%AF%A2student%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E8%AE%B0%E5%BD%95%E7%9A%84sname%E3%80%81ssex%E3%80%81%E5%92%8Cclass%E5%88%97"><span class="nav-number">7.4.0.2.</span> <span class="nav-text">2、查询student表中的所有记录的sname、ssex、和class列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3%E3%80%81%E6%9F%A5%E8%AF%A2%E6%95%99%E5%B8%88%E6%89%80%E6%9C%89%E7%9A%84%E5%8D%95%E4%BD%8D%EF%BC%8C%E5%8D%B3%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84depart%E5%88%97-distinct%E6%8E%92%E9%99%A4%E9%87%8D%E5%A4%8D"><span class="nav-number">7.4.0.3.</span> <span class="nav-text">3、查询教师所有的单位，即不重复的depart列 distinct排除重复</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4%E3%80%81%E6%9F%A5%E8%AF%A2score%E8%A1%A8%E4%B8%AD%E6%88%90%E7%BB%A9%E5%9C%A860-80%E4%B9%8B%E9%97%B4%E7%9A%84%E6%89%80%E6%9C%89%E8%AE%B0%E5%BD%95-between%E2%80%A6and%E2%80%A6-gt-lt"><span class="nav-number">7.4.0.4.</span> <span class="nav-text">4、查询score表中成绩在60-80之间的所有记录 between…and…  &gt;&#x3D; &lt;&#x3D;</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5%E3%80%81%E6%9F%A5%E8%AF%A2score%E8%A1%A8%E4%B8%AD%E6%88%90%E7%BB%A9%E4%B8%BA85%E3%80%8186%E3%80%8188%E7%9A%84%E8%AE%B0%E5%BD%95-in-85-86-88-or"><span class="nav-number">7.4.0.5.</span> <span class="nav-text">5、查询score表中成绩为85、86、88的记录 in(85,86,88) or</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6%E3%80%81%E6%9F%A5%E8%AF%A2student%E8%A1%A8%E4%B8%AD%E2%80%9C170807%E2%80%9D%E7%8F%AD%E6%80%A7%E5%88%AB%E2%80%9C%E5%A5%B3%E2%80%9D%E7%9A%84%E5%90%8C%E5%AD%A6%E8%AE%B0%E5%BD%95-or"><span class="nav-number">7.4.0.6.</span> <span class="nav-text">6、查询student表中“170807”班性别“女”的同学记录 or</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7%E3%80%81%E4%BB%A5class%E9%99%8D%E5%BA%8F%E6%9F%A5%E8%AF%A2student%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E8%AE%B0%E5%BD%95-order-by%E2%80%A6-desc%E9%99%8D%E5%BA%8F-asc%E5%8D%87%E5%BA%8F%EF%BC%88%E9%BB%98%E8%AE%A4%E5%8F%AF%E4%B8%8D%E5%86%99%EF%BC%89"><span class="nav-number">7.4.0.7.</span> <span class="nav-text">7、以class降序查询student表中的所有记录 order by…  desc降序 asc升序（默认可不写）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8%E3%80%81%E4%BB%A5cno%E5%8D%87%E5%BA%8F%E3%80%81degree%E9%99%8D%E5%BA%8F%E6%9F%A5%E8%AF%A2score%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E8%AE%B0%E5%BD%95-desc%E9%99%8D%E5%BA%8F-asc%E5%8D%87%E5%BA%8F%EF%BC%88%E9%BB%98%E8%AE%A4%E5%8F%AF%E4%B8%8D%E5%86%99%EF%BC%89"><span class="nav-number">7.4.0.8.</span> <span class="nav-text">8、以cno升序、degree降序查询score表中的所有记录 desc降序 asc升序（默认可不写）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9%E3%80%81%E6%9F%A5%E8%AF%A2%E2%80%9C170807%E2%80%9D%E7%8F%AD%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BA%BA%E6%95%B0-count-%E2%80%A6-%E2%80%A6%E4%BB%A3%E8%A1%A8%E5%88%97"><span class="nav-number">7.4.0.9.</span> <span class="nav-text">9、查询“170807”班的学生人数 count(…) …代表列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#10%E3%80%81%E6%9F%A5%E8%AF%A2score%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%9C%80%E9%AB%98%E5%88%86%E7%9A%84%E5%AD%A6%E7%94%9F%E5%AD%A6%E5%8F%B7%E5%92%8C%E8%AF%BE%E7%A8%8B%E5%8F%B7%EF%BC%88%E5%AD%90%E6%9F%A5%E8%AF%A2%E6%88%96%E8%80%85%E6%8E%92%E5%BA%8F%EF%BC%88%E6%8E%92%E5%BA%8F%E4%B8%8D%E8%83%BD%E7%9F%A5%E9%81%93%E6%9C%89%E5%87%A0%E4%B8%AA%E6%9C%80%E9%AB%98%E5%88%86%EF%BC%89%EF%BC%89max-%E2%80%A6-%E2%80%A6%E4%BB%A3%E8%A1%A8%E5%88%97"><span class="nav-number">7.4.0.10.</span> <span class="nav-text">10、查询score表中的最高分的学生学号和课程号（子查询或者排序（排序不能知道有几个最高分））max(…) …代表列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#11%E3%80%81%E6%9F%A5%E8%AF%A2%E6%AF%8F%E9%97%A8%E8%AF%BE%E7%9A%84%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9-avg-%E2%80%A6-group-by-%E5%88%86%E7%BB%84"><span class="nav-number">7.4.0.11.</span> <span class="nav-text">11、查询每门课的平均成绩 avg(…) group by 分组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#12%E3%80%81%E6%9F%A5%E8%AF%A2%E6%AF%8F%E4%B8%AA%E7%8F%AD%E7%9A%84%E4%BA%BA%E6%95%B0%E6%89%BE%E5%88%B0%E4%BA%BA%E6%95%B0%E5%A4%A7%E4%BA%8E%E4%BA%94%E7%9A%84%E7%8F%AD%E7%BA%A7-group-by-%E5%88%86%E7%BB%84-having%E7%AD%9B%E9%80%89"><span class="nav-number">7.4.0.12.</span> <span class="nav-text">12、查询每个班的人数找到人数大于五的班级 group by 分组 having筛选</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#13%E3%80%81%E6%9F%A5%E8%AF%A2score%E8%A1%A8%E4%B8%AD%E8%87%B3%E5%B0%91%E6%9C%895%E5%90%8D%E5%AD%A6%E7%94%9F%E9%80%89%E4%BF%AE%E4%B8%94%E8%AF%BE%E7%A8%8B%E7%BC%96%E5%8F%B7%E4%BB%A5%E2%80%9C3%E2%80%9D%E7%BB%93%E5%B0%BE%E7%9A%84%E8%AF%BE%E7%A8%8B%E5%8F%B7%E5%92%8C%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9-having-%E5%92%8Cgroup-by%E4%B8%80%E8%B5%B7%E7%94%A8%E4%BD%9C%E8%BF%87%E6%BB%A4%E7%AD%9B%E9%80%89"><span class="nav-number">7.4.0.13.</span> <span class="nav-text">13、查询score表中至少有5名学生选修且课程编号以“3”结尾的课程号和平均成绩 having 和group by一起用作过滤筛选</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#14%E3%80%81%E6%9F%A5%E8%AF%A2%E5%88%86%E6%95%B0%E5%A4%A7%E4%BA%8E70%E5%B0%8F%E4%BA%8E90%E7%9A%84sno%E5%88%97"><span class="nav-number">7.4.0.14.</span> <span class="nav-text">14、查询分数大于70小于90的sno列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#15%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%AD%A6%E7%94%9F%E7%9A%84sname%EF%BC%8Ccno%E5%92%8Cdegree%E5%88%97-%EF%BC%88%E5%A7%93%E5%90%8D%EF%BC%8C%E8%AF%BE%E7%A8%8B%EF%BC%8C%E6%88%90%E7%BB%A9%EF%BC%89%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.15.</span> <span class="nav-text">15、查询所有学生的sname，cno和degree列 （姓名，课程，成绩）多表查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#16%E3%80%81%E6%9F%A5%E8%AF%A2%E6%95%99%E5%B8%88%E7%9A%84tname%EF%BC%8Ccno%EF%BC%88%E5%A7%93%E5%90%8D%EF%BC%8C%E8%AF%BE%E7%A8%8B%EF%BC%89%E5%88%97"><span class="nav-number">7.4.0.16.</span> <span class="nav-text">16、查询教师的tname，cno（姓名，课程）列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#17%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%AD%A6%E7%94%9F%E7%9A%84%E5%A7%93%E5%90%8D%EF%BC%8C%E8%AF%BE%E7%A8%8B%EF%BC%8C%E6%88%90%E7%BB%A9-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.17.</span> <span class="nav-text">17、查询所有学生的姓名，课程，成绩 多表查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#18%E3%80%81%E6%9F%A5%E8%AF%A2%E4%B8%8D%E5%8F%8A%E6%A0%BC%E7%9A%84%E5%90%8C%E5%AD%A6%E7%9A%84%E5%A7%93%E5%90%8D%EF%BC%8C%E8%AF%BE%E7%A8%8B%EF%BC%8C%E6%88%90%E7%BB%A9-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.18.</span> <span class="nav-text">18、查询不及格的同学的姓名，课程，成绩 多表查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#19%E3%80%81%E6%9F%A5%E8%AF%A2170807%E7%8F%AD%E6%AF%8F%E4%B8%AA%E5%AD%A6%E7%94%9F%E7%9A%84%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.19.</span> <span class="nav-text">19、查询170807班每个学生的平均成绩 多表查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#20%E3%80%81%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AEc001%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%90%8C%E5%AD%A6%E4%B8%AD%E6%88%90%E7%BB%A9%E9%AB%98%E4%BA%8E1006%E5%8F%B7%E5%90%8C%E5%AD%A6%E7%9A%84%E6%89%80%E6%9C%89%E8%AE%B0%E5%BD%95-%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.20.</span> <span class="nav-text">20、查询选修c001课程的同学中成绩高于1006号同学的所有记录 子查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#21%E3%80%81%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%AD%A6%E5%8F%B7%E4%B8%BA1006%E7%9A%84%E5%90%8C%E5%AD%A6%E5%90%8C%E5%B9%B4%EF%BC%88%E5%90%8C%E6%9C%88%EF%BC%9F%EF%BC%89%E5%87%BA%E7%94%9F%E7%9A%84%E6%89%80%E6%9C%89%E8%AE%B0%E5%BD%95-%E5%AD%90%E6%9F%A5%E8%AF%A2-year-sbirth"><span class="nav-number">7.4.0.21.</span> <span class="nav-text">21、查询与学号为1006的同学同年（同月？）出生的所有记录 子查询 year(sbirth)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#22%E3%80%81%E6%9F%A5%E8%AF%A2%E7%8E%8B%E5%BB%BA%E5%9B%BD%E6%95%99%E5%B8%88%E6%89%80%E6%95%99%E5%AD%A6%E7%94%9F%E7%9A%84%E6%88%90%E7%BB%A9-%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%A5%97%E5%A8%83%EF%BC%89"><span class="nav-number">7.4.0.22.</span> <span class="nav-text">22、查询王建国教师所教学生的成绩 子查询（套娃）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#23%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E4%BB%BB%E8%AF%BE%E6%95%99%E5%B8%88%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E9%83%A8%E9%97%A8-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2mysql"><span class="nav-number">7.4.0.23.</span> <span class="nav-text">23、查询所有任课教师的姓名和部门 多表查询mysql</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#24%E3%80%81%E6%9F%A5%E8%AF%A2%E6%AF%8F%E4%B8%AA%E6%95%99%E5%B8%88%E6%89%80%E6%95%99%E7%9A%84%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%90%8D%E5%AD%97%E5%92%8C%E4%BA%BA%E6%95%B0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.24.</span> <span class="nav-text">24、查询每个教师所教的课程的名字和人数  多表查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#25%E3%80%81%E6%9F%A5%E8%AF%A2%E7%94%B7%E6%95%99%E5%B8%88%E7%9A%84%E5%A7%93%E5%90%8D%EF%BC%8C%E8%AF%BE%E7%A8%8B%EF%BC%8C%E4%BA%BA%E6%95%B0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.25.</span> <span class="nav-text">25、查询男教师的姓名，课程，人数 多表查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#26%E3%80%81%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%BA%E6%95%B0%E8%B6%85%E8%BF%875%E4%BA%BA%E7%9A%84%E8%AF%BE%E7%A8%8B%E5%92%8C%E6%95%99%E5%B8%88%E5%A7%93%E5%90%8D-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.26.</span> <span class="nav-text">26、查询选修人数超过5人的课程和教师姓名 多表查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#27%E3%80%81%E6%9F%A5%E8%AF%A2170807%E5%92%8C170808%E7%8F%AD%E5%85%A8%E4%BD%93%E5%AD%A6%E7%94%9F%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="nav-number">7.4.0.27.</span> <span class="nav-text">27、查询170807和170808班全体学生的记录</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#28%E3%80%81%E6%9F%A5%E8%AF%A2%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E6%95%99%E5%B8%88%E6%89%80%E6%95%99%E8%AF%BE%E7%A8%8B%E7%9A%84%E6%88%90%E7%BB%A9%E8%A1%A8-%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%88%E5%A5%97%E5%A8%83%EF%BC%89%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.28.</span> <span class="nav-text">28、查询计算机系教师所教课程的成绩表 子查询（套娃）多表查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#29%E3%80%81%E6%9F%A5%E8%AF%A2%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%AD%A6%E9%99%A2%E5%92%8C%E4%BF%A1%E6%81%AF%E5%AD%A6%E9%99%A2%E4%B8%8D%E5%90%8C%E8%81%8C%E7%A7%B0%E7%9A%84%E6%95%99%E5%B8%88-union-%E5%B0%86%E4%B8%A4%E4%B8%AA%E8%AF%AD%E5%8F%A5%E4%BD%9C%E7%94%A8%E5%9C%A8%E4%B8%80%E8%B5%B7"><span class="nav-number">7.4.0.29.</span> <span class="nav-text">29、查询计算机学院和信息学院不同职称的教师 union 将两个语句作用在一起</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#30%E3%80%81%E6%9F%A5%E8%AF%A2%E9%80%89%E6%8B%A9%E4%BA%86c001-c003%E4%B8%A4%E9%97%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E7%BC%96%E5%8F%B7%EF%BC%8C%E5%A7%93%E5%90%8D-group-having"><span class="nav-number">7.4.0.30.</span> <span class="nav-text">30、查询选择了c001,c003两门课程的学生编号，姓名 group having</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#31%E3%80%81%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86c003%E8%AF%BE%E7%A8%8B%EF%BC%8C%E4%B8%94%E6%88%90%E7%BB%A9%E9%AB%98%E4%BA%8Ec001%E8%AF%BE%E7%A8%8B%E6%9C%80%E4%BD%8E%E6%88%90%E7%BB%A9%E7%9A%84%E5%AD%A6%E7%94%9F%E8%AE%B0%E5%BD%95-any-%E5%A4%A7%E4%BA%8E%E5%85%B6%E4%B8%AD%E4%BB%BB%E6%84%8F%E4%B8%80%E4%B8%AA"><span class="nav-number">7.4.0.31.</span> <span class="nav-text">31、查询选修了c003课程，且成绩高于c001课程最低成绩的学生记录 any 大于其中任意一个</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#32%E3%80%81%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86c003%E8%AF%BE%E7%A8%8B%EF%BC%8C%E4%B8%94%E6%88%90%E7%BB%A9%E9%AB%98%E4%BA%8Ec001%E8%AF%BE%E7%A8%8B%E6%9C%80%E9%AB%98%E6%88%90%E7%BB%A9%E7%9A%84%E5%AD%A6%E7%94%9F%E8%AE%B0%E5%BD%95-all-%E5%A4%A7%E4%BA%8E%E6%9C%80%E5%A4%A7"><span class="nav-number">7.4.0.32.</span> <span class="nav-text">32、查询选修了c003课程，且成绩高于c001课程最高成绩的学生记录 all 大于最大</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#33%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E6%95%99%E5%B8%88%E5%92%8C%E5%90%8C%E5%AD%A6%E7%9A%84%E5%A7%93%E5%90%8D%EF%BC%8C%E6%80%A7%E5%88%AB%EF%BC%8C%E7%94%9F%E6%97%A5-as-%E5%88%AB%E5%90%8D-union"><span class="nav-number">7.4.0.33.</span> <span class="nav-text">33、查询所有教师和同学的姓名，性别，生日 as 别名 union</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#34%E3%80%81%E5%B0%86%E6%9F%A5%E8%AF%A2%E5%88%B0%E7%9A%84%E6%95%B0%E6%8D%AE%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E8%A1%A8-create-table-%E2%80%A6-select-%E2%80%A6-from-%E2%80%A6"><span class="nav-number">7.4.0.34.</span> <span class="nav-text">34、将查询到的数据生成一个新的表 create table … (select … from …)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#35%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%A5%B3%E6%95%99%E5%B8%88%E5%92%8C%E5%A5%B3%E5%90%8C%E5%AD%A6%E7%9A%84%E5%A7%93%E5%90%8D%EF%BC%8C%E6%80%A7%E5%88%AB%EF%BC%8C%E7%94%9F%E6%97%A5-union"><span class="nav-number">7.4.0.35.</span> <span class="nav-text">35、查询所有女教师和女同学的姓名，性别，生日 union</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#36%E3%80%81%E6%9F%A5%E8%AF%A2%E6%88%90%E7%BB%A9%E6%AF%94%E8%AF%A5%E8%AF%BE%E7%A8%8B%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E4%BD%8E%E7%9A%84%E5%90%8C%E5%AD%A6%E7%9A%84%E6%88%90%E7%BB%A9%E8%A1%A8-%E5%A4%8D%E5%88%B6%E8%A1%A8%E6%95%B0%E6%8D%AE%E5%81%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.4.0.36.</span> <span class="nav-text">36、查询成绩比该课程平均成绩低的同学的成绩表 复制表数据做条件查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#37%E3%80%81%E6%9F%A5%E8%AF%A2%E8%87%B3%E5%B0%91%E6%9C%89%E4%B8%A4%E5%90%8D%E5%A5%B3%E7%94%9F%E7%9A%84%E7%8F%AD%E7%BA%A7-group-by-class-having"><span class="nav-number">7.4.0.37.</span> <span class="nav-text">37、查询至少有两名女生的班级   group by class having</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#38%E3%80%81%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9F%E8%A1%A8%E4%B8%AD%E4%B8%8D%E5%A7%93%E6%9D%8E%E7%9A%84%E5%90%8C%E5%AD%A6-not-like"><span class="nav-number">7.4.0.38.</span> <span class="nav-text">38、查询学生表中不姓李的同学 not like</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#39%E3%80%81%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9F%E8%A1%A8%E4%B8%AD%E6%AF%8F%E4%B8%AA%E5%AD%A6%E7%94%9F%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E5%B9%B4%E9%BE%84-year-sbirth-year-now"><span class="nav-number">7.4.0.39.</span> <span class="nav-text">39、查询学生表中每个学生的姓名和年龄 year(sbirth) year(now())</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#40%E3%80%81%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9F%E8%A1%A8%E4%B8%AD%E5%B9%B4%E9%BE%84%E6%9C%80%E5%A4%A7%E5%92%8C%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E7%94%9F%E6%97%A5-max-min"><span class="nav-number">7.4.0.40.</span> <span class="nav-text">40、查询学生表中年龄最大和最小的学生的姓名和生日 max() min()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#41%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E9%80%89%E6%8B%A9%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%A6%82%E8%AE%BA%E7%9A%84%E5%A5%B3%E5%90%8C%E5%AD%A6%E7%9A%84%E5%A7%93%E5%90%8D%E5%92%8C%E6%88%90%E7%BB%A9"><span class="nav-number">7.4.0.41.</span> <span class="nav-text">41、查询所有选择计算机概论的女同学的姓名和成绩</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#42%E3%80%81%E6%9F%A5%E8%AF%A2%E6%88%90%E7%BB%A9%E8%A1%A8%E5%92%8C%E7%AD%89%E7%BA%A7%E8%A1%A8%E5%B9%B6%E8%BF%9B%E8%A1%8C%E6%88%90%E7%BB%A9%E5%88%86%E7%BA%A7"><span class="nav-number">7.4.0.42.</span> <span class="nav-text">42、查询成绩表和等级表并进行成绩分级</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.5.</span> <span class="nav-text">5、连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1%E3%80%81%E5%BB%BA%E8%A1%A8-%E6%B2%A1%E6%9C%89%E5%A4%96%E9%94%AE%E5%92%8C%E4%B8%BB%E9%94%AE"><span class="nav-number">7.5.1.</span> <span class="nav-text">5.1、建表 没有外键和主键</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2%E3%80%81%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="nav-number">7.5.2.</span> <span class="nav-text">5.2、插入数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3%E3%80%81%E5%86%85%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2%EF%BC%9Ainner-join-join"><span class="nav-number">7.5.3.</span> <span class="nav-text">5.3、内连接查询：inner join || join</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-4%E3%80%81%E5%A4%96%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-number">7.5.4.</span> <span class="nav-text">5.4、外连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-4-1%E3%80%81%E5%B7%A6%E8%BF%9E%E6%8E%A5-left-join-left-outer-join-%EF%BC%88%E4%BA%A4%E9%9B%86-%E5%B7%A6%E5%AD%90%E9%9B%86%EF%BC%89"><span class="nav-number">7.5.4.1.</span> <span class="nav-text">5.4.1、左连接 left join || left outer join （交集+左子集）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-4-2%E3%80%81%E5%8F%B3%E8%BF%9E%E6%8E%A5-right-join-right-outer-join-%EF%BC%88%E4%BA%A4%E9%9B%86-%E5%8F%B3%E5%AD%90%E9%9B%86%EF%BC%89"><span class="nav-number">7.5.4.2.</span> <span class="nav-text">5.4.2、右连接 right join || right outer join （交集+右子集）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-4-3%E3%80%81%E5%AE%8C%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5-full-join-full-outer-join-%EF%BC%88mysql%E4%B8%8D%E6%94%AF%E6%8C%81full-join-%E5%8F%AF%E4%BB%A5%E7%94%A8union-%E4%BB%A3%E6%9B%BF%EF%BC%89%EF%BC%88%E5%B9%B6%E9%9B%86%EF%BC%89"><span class="nav-number">7.5.4.3.</span> <span class="nav-text">5.4.3、完全外连接 full join || full outer join （mysql不支持full join 可以用union 代替）（并集）</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8%E3%80%81%E4%BA%8B%E5%8A%A1"><span class="nav-number">8.</span> <span class="nav-text">8、事务</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E7%89%A9%E7%9A%84%E7%89%B9%E5%BE%81-ACID"><span class="nav-number">8.1.</span> <span class="nav-text">事物的特征 ACID</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E6%9C%AA%E9%9A%94%E7%A6%BB%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-number">8.2.</span> <span class="nav-text">事务未隔离会出现的情况</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9%E3%80%81%E7%B4%A2%E5%BC%95"><span class="nav-number">9.</span> <span class="nav-text">9、索引</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-number">9.1.</span> <span class="nav-text">索引的原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#B%E6%A0%91%E5%92%8CB-%E6%A0%91"><span class="nav-number">9.2.</span> <span class="nav-text">B树和B+树</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="nav-number">9.3.</span> <span class="nav-text">索引的优缺点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%86%E7%B1%BB%E5%92%8C%E5%88%9B%E5%BB%BA%E3%80%81%E4%BF%AE%E6%94%B9%E7%AD%89%E5%91%BD%E4%BB%A4"><span class="nav-number">9.4.</span> <span class="nav-text">索引的分类和创建、修改等命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95%EF%BC%88%E5%8D%95%E5%88%97%E7%B4%A2%E5%BC%95%EF%BC%89%EF%BC%9A"><span class="nav-number">9.4.1.</span> <span class="nav-text">1、普通索引（单列索引）：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E5%A4%8D%E5%90%88%E7%B4%A2%E5%BC%95%EF%BC%88%E7%BB%84%E5%90%88%E7%B4%A2%E5%BC%95%EF%BC%89%EF%BC%9A"><span class="nav-number">9.4.2.</span> <span class="nav-text">2、复合索引（组合索引）：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95%EF%BC%9A"><span class="nav-number">9.4.3.</span> <span class="nav-text">3、唯一索引：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81%E4%B8%BB%E9%94%AE%E7%B4%A2%E5%BC%95%EF%BC%9A"><span class="nav-number">9.4.4.</span> <span class="nav-text">4、主键索引：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5%E3%80%81%E5%85%A8%E6%96%87%E7%B4%A2%E5%BC%95"><span class="nav-number">9.4.5.</span> <span class="nav-text">5、全文索引</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E6%9F%A5%E8%AF%A2%E5%92%8C%E5%88%A0%E9%99%A4"><span class="nav-number">9.5.</span> <span class="nav-text">索引的查询和删除</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#explain%E4%BD%BF%E7%94%A8"><span class="nav-number">9.6.</span> <span class="nav-text">explain使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E6%AE%B5%E4%BB%8B%E7%BB%8D"><span class="nav-number">9.6.1.</span> <span class="nav-text">字段介绍</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88"><span class="nav-number">9.7.</span> <span class="nav-text">索引失效</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E5%9C%A8where%E5%90%8E%E4%BD%BF%E7%94%A8or%EF%BC%8C%E5%AF%BC%E8%87%B4%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88%EF%BC%88%E5%B0%BD%E9%87%8F%E5%B0%91%E4%BD%BF%E7%94%A8or%EF%BC%89"><span class="nav-number">9.7.1.</span> <span class="nav-text">1、在where后使用or，导致索引失效（尽量少使用or）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E4%BD%BF%E7%94%A8like%EF%BC%8Clike%E6%9F%A5%E8%AF%A2%E6%98%AF%E4%BB%A5-%E5%BC%80%E5%A4%B4"><span class="nav-number">9.7.2.</span> <span class="nav-text">2、使用like，like查询是以%开头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E5%A4%8D%E5%90%88%E7%B4%A2%E5%BC%95%E9%81%B5%E5%AE%88%E2%80%9C%E6%9C%80%E5%B7%A6%E5%89%8D%E7%BC%80%E2%80%9D%E5%8E%9F%E5%88%99%EF%BC%8C%E8%AE%B0%E8%BD%BD%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%BA%86%E7%AC%A6%E5%90%88%E7%B4%A2%E5%BC%95%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%EF%BC%8C%E7%B4%A2%E5%BC%95%E6%89%8D%E4%BC%9A%E8%A2%AB%E4%BD%BF%E7%94%A8"><span class="nav-number">9.7.3.</span> <span class="nav-text">3、复合索引遵守“最左前缀”原则，记载查询条件中使用了符合索引的第一个字段，索引才会被使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81%E5%A6%82%E6%9E%9C%E5%88%97%E7%B1%BB%E5%9E%8B%E6%98%AF%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E5%93%AA%E4%B8%80%E5%AE%9A%E8%A6%81%E5%9C%A8%E6%9D%A1%E4%BB%B6%E4%B8%AD%E5%B0%86%E6%95%B0%E6%8D%AE%E4%BD%BF%E7%94%A8%E5%BC%95%E5%8F%B7%E6%8B%AC%E8%B5%B7%E6%9D%A5%EF%BC%8C%E5%90%A6%E5%88%99%E4%B8%8D%E4%BD%BF%E7%94%A8%E7%B4%A2%E5%BC%95"><span class="nav-number">9.7.4.</span> <span class="nav-text">4、如果列类型是字符串，哪一定要在条件中将数据使用引号括起来，否则不使用索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5%E3%80%81%E4%BD%BF%E7%94%A8in%E5%AF%BC%E8%87%B4%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88%EF%BC%88%E5%AE%9E%E6%B5%8B%E5%B9%B6%E6%B2%A1%E6%9C%89%E5%A4%B1%E6%95%88%EF%BC%89"><span class="nav-number">9.7.5.</span> <span class="nav-text">5、使用in导致索引失效（实测并没有失效）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6%E3%80%81DATE-FORMAT-%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%97%B6%E9%97%B4%EF%BC%8C%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%90%8E%E7%9A%84%E6%97%B6%E9%97%B4%E5%86%8D%E5%8E%BB%E6%AF%94%E8%BE%83%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88"><span class="nav-number">9.7.6.</span> <span class="nav-text">6、DATE_FORMAT()格式化时间，格式化后的时间再去比较，可能会导致索引失效</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7%E3%80%81%E5%AF%B9%E4%BA%8Eorder-by%E3%80%81group-by%E3%80%81union%E3%80%81distinc%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5%E5%87%BA%E7%8E%B0%E5%9C%A8where%E6%9D%A1%E4%BB%B6%E4%B8%AD%E6%97%B6%EF%BC%8C%E6%89%8D%E4%BC%9A%E5%88%A9%E7%94%A8%E7%B4%A2%E5%BC%95"><span class="nav-number">9.7.7.</span> <span class="nav-text">7、对于order by、group by、union、distinc中的字段出现在where条件中时，才会利用索引</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">北极星上的稻草人</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">北极星上的稻草人</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<!-- 页面动态背景 -->

<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/clicklove.js"></script>